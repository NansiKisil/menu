(function(e,o,u,t){var n=e("#main-content"),a=new RegExp("/fr$|/fr[?]"),i=new RegExp("/de$|/de[?]"),r=new RegExp("/en$|/en[?]");n.on("click",".btn-station-name-search",function(){var n=e("#station-name").attr("value");if(a.exec(t.location.href)||i.exec(t.location.href)||r.exec(t.location.href)){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs",niveau_2:"horaires",niveau_3:n})}});n.on("click",".train-input-btn",function(){var n=e("#train-number").attr("value");if(a.exec(t.location.href)||i.exec(t.location.href)||r.exec(t.location.href)){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs",niveau_2:"numero de train",niveau_3:n})}});n.on("click","[data-gtm='gtm_itinerary_train_detail']",function(){var a=new RegExp("[0-9]+"),t="";if(e(this).parent()&&e(this).parent().parent()&&e(this).parent().parent().parent()){t=e(this).parent().parent().parent().find(".itinerary-path-desc-step-text").text()};var n=a.exec(t)[0];dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"itineraire",niveau_3:"voir la fiche train",niveau_4:n})});n.on("click","[data-gtm='gtm_itinerary_next_train']",function(){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"itineraire",niveau_3:"afficher les horaires suivants"})});n.on("click","[data-gtm='gtm_itinerary_modify_search']",function(){if(e(".miv-header-desc").length===0){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"itineraire",niveau_3:"modifier votre recherche"})}
else{dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"Aucun resultat",niveau_3:"modifier votre recherche"})}});e(document).ready(function(){if(t.location.href.indexOf("service-indisponible")!==-1||t.location.href.indexOf("service-unavailable")!==-1||t.location.href.indexOf("service-nicht-verfuegbar")!==-1){if(document.referrer.indexOf("/gares")!==-1||document.referrer.indexOf("/stations")!==-1||document.referrer.indexOf("/bahnhoefe")!==-1){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"horaires",niveau_3:"service indisponible"})}};var n=new RegExp("[/]gares[/][^/]+[/][^/]+[/][^/]+|[/]stations[/][^/]+[/][^/]+[/][^/]+|[/]bahnhoefe[/][^/]+[/][^/]+[/][^/]+");if(n.exec(t.location.href)){if(t.location.href.indexOf("/gares/")!==-1||t.location.href.indexOf("/stations/")!==-1||t.location.href.indexOf("/bahnhoefe/")!==-1){if(e(".miv-header-desc").length!==0){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"horaires",niveau_3:"Aucun resultat"})}}}});n.on("click",".independent-accordion-btn",function(){var n=e(".independent-accordion-btn-text-title").text();if(t.location.href.indexOf("/gares")!==-1||t.location.href.indexOf("/stations")!==-1||t.location.href.indexOf("/bahnhoefe")!==-1){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"horaires",niveau_3:"perturbation - ouvrir le volet",niveau_4:n})}});n.on("click","[data-gtm='gtm_itinerary_intercalary_page']",function(){dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs - resultats",niveau_2:"page intercalaire",niveau_3:"continuer vers les resultats"})});n.on("click","#button-tickets",function(){var t=e("#button-tickets").text(),n=e("#button-tickets").attr("href");dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs",niveau_2:"reserver",niveau_3:t,niveau_4:n})});n.on("click","#button-cards",function(){var t=e("#button-cards").text(),n=e("#button-cards").attr("href");dataLayer.push({event:"gtmClic",niveau_1:"module informations voyageurs",niveau_2:"reserver",niveau_3:t,niveau_4:n})});e(document).on("click","[data-gtm='store-locator-search-button']",function(){var t="undefined";if(e("#store-locator-results")!==null){t=e("#store-locator-results").attr("value")};dataLayer.push({event:"gtmClic",niveau_1:"store locator",niveau_2:"ville",niveau_3:t})});e(document).on("click",":checkbox",function(){if(this&&this.parentElement&&this.parentElement.parentElement&&this.parentElement.parentElement.parentElement&&this.parentElement.parentElement.parentElement.parentElement&&this.parentElement.parentElement.parentElement.parentElement.id==="filter-tooltip-store-result"){var e="undefined";if(this.parentElement&&this.parentElement.textContent!==null){e=this.parentElement.textContent};if(this.checked){dataLayer.push({event:"gtmClic",niveau_1:"store locator",niveau_2:"filtre",niveau_3:e})}}});e(document).on("click","[data-gtm='store-locator-result-gtm']",function(){var t="undefined";if(e(this).length>0&&e(this)[0].getElementsByClassName("store-locator-results-item-link link")!==null&&e(this)[0].getElementsByClassName("store-locator-results-item-link link").length>0){t=e(this)[0].getElementsByClassName("store-locator-results-item-link link")[0].innerText};dataLayer.push({event:"gtmClic",niveau_1:"store locator",niveau_2:"boutiques",niveau_3:t})});e(document).on("click","#edit-submit-filter-provider, #simple-search-button",function(){var e="undefined",t="rechercher";if(document.getElementById("edit-provider-title")!==null){e=document.getElementById("edit-provider-title").value};if(document.getElementById("show-advanced")&&document.getElementById("show-advanced").getAttribute("class")&&document.getElementById("show-advanced").getAttribute("class").indexOf("js-hidden")>-1){t="afficher recherche avancee"};dataLayer.push({event:"gtmClic",niveau_1:"fournisseur",niveau_2:"documentation",niveau_3:t,niveau_4:e})});e(document).on("click","#hide-advanced",function(){dataLayer.push({event:"gtmClic",niveau_1:"fournisseur",niveau_2:"documentation",niveau_3:"masquer recherche avancee"})});e(document).on("click","#edit-submit-filter-finance",function(){dataLayer.push({event:"gtmClic",niveau_1:"finance",niveau_2:"menu deroulant",niveau_3:"rechercher"})})})(jQuery,Drupal,drupalSettings,this);