'use strict';(function(t){t.fn.gtm_link=function(){var a=t(this),e=a.attr('href');if(e){var n=a.attr('class')?a.attr('class'):'',g=e.indexOf('mailto:')!==-1,p=t(this).attr('data-gtm')=== 'connect-ide'||t(this).attr('data-gtm')=== 'connect-ide-agent'||t(this).attr('data-gtm')=== 'connect-ide-filiale'||t(this).attr('data-gtm')=== 'connect-ide-externe',u=n.indexOf('links-download')!==-1||e.indexOf('.pdf')!==-1||e.indexOf('medias.sncf.com')!==-1||e.indexOf('multimedia.sncf.com')!==-1,v=e.indexOf(window.location.origin)!==-1||n.indexOf('links-internal')!==-1||e.indexOf('http')===-1,h=a.attr('id')==='button-tickets'||a.attr('id')==='button-cards',x=(n.indexOf('snc-icon-circle')!==-1||n.indexOf('btn-sharing-social')!==-1||n.indexOf('main-menu-link')!==-1)||t(this).attr('href')=== '#'||v||h||p;if(g){dataLayer.push({'event':'gtmClic','niveau_1':'contacter par mail','niveau_2':'clic','niveau_3':e.replace('mailto:','')})}
else if(u){var m=e.split('/')[e.split('/').length-1];dataLayer.push({'event':'gtmClic','niveau_1':'telechargements','niveau_2':m,'niveau_3':e})}
else if(!x){var d='liens externes',i='',s=e,r=null,f=t('.snc-body-content')&&t('.snc-body-content').attr('data-gabarit')==='tgv',o=a.parent()&&a.parent().parent()&&a.parent().parent().attr('data-gtm')=== 'menu';if(o){var c=a.find('.block-navigation-item-link-title');i=c?c.text():''}
else if(a.text().length>0){i=a.text().replace(/\s+/g,' ').trim()}
else if(a.find('img').length>0&&a.find('img')[0].alt.length>0){i=a.find('img')[0].alt.trim()};if(f){r=getBlockName(a)};var l={'event':'gtmClic','niveau_1':d,'niveau_2':i,'niveau_3':s};if(r){l['niveau_4']=r};dataLayer.push(l)}}}})(jQuery);function getBlockName(t){var a='';if(t){if(t.attr('data-block')){a=t.attr('data-block')}
else if(t.parent()&&t.parent().attr('data-block')){a=t.parent().attr('data-block')}
else if(t.parent()&&t.parent().parent()&&t.parent().parent().attr('data-block')){a=t.parent().parent().attr('data-block')}};return a};