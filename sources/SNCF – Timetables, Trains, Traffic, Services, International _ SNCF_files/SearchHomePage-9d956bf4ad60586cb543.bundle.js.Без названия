(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[10],{1682:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(4),a=r(104),o={lang:n.string,nbDaysBefore:n.number,nbDaysAfter:n.number,intercalaire:Object(n.shape)({intercalaireIsActive:n.string,intercalaireTitle:n.string,intercalaireDescription:n.string}),base:n.string,features:Object(n.objectOf)(n.bool),endpoint:n.string,timeout:n.number,regexMobileDetection:n.string,nbPlaces:n.number,export:n.func,locationItinerary:n.func,nbPreviousSearch:n.number,breadcrumbReact:n.func,resultItinerary:n.func,resultPartnerItinerary:n.func,resultMapBoolItinerary:n.func,downloadLinkGTM:n.func,modeTransportGTM:n.func,submitSearchGTM:n.func,errorCatch:n.func,vscBookTicketFR:n.string,vscBookTicketEN:n.string,vscBookTicketDE:n.string,vscCardsAndPassesFR:n.string,vscCardsAndPassesEN:n.string,vscCardsAndPassesDE:n.string,modesOfTransport:Object(n.objectOf)(n.string),addGAClientIdToUrl:n.func,isFluxMapsAlt:n.bool,basicAuthMIV:n.string},i=Object(a.a)();t.b=Object(n.shape)(o)},1683:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(1694),l=function(e){var t=e.error,r=e.nameChamp,n=e.id,o=Object(c.a)(t,r);return o?o&&o[0].data?a.a.createElement(s.FormattedMessage,{id:o[0].labelError,values:o[0].data},(function(e){return a.a.createElement("p",{className:"form-label-error-txt",id:n},e)})):a.a.createElement(s.FormattedMessage,{id:o[0].labelError},(function(e){return a.a.createElement("p",{className:"form-label-error-txt",id:n},e)})):null};l.propTypes={error:i.a.shape({msgId:i.a.arrayOf(i.a.object)}),nameChamp:i.a.string.isRequired,id:i.a.string.isRequired},l.defaultProps={error:{}},t.a=l},1684:function(e,t,r){"use strict";var n=r(1),a=r(1696),o=null;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={libelle:e,indicateurReponseGaresSecondaires:t};return o.find("/1.0/util/rechercherListeEmplacements",r).then((function(e){return e.res.reponseRechercherListeEmplacements.reponse.listeResultats.resultat[0].donnees.listeEmplacements.emplacement}))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={libelleAdresse:e};return o.find("/1.0/util/rechercherListeEmplacementsAdresse",t).then((function(e){return e.res.reponseRechercherListeEmplacementsAdresse.reponse.listeResultats.resultat[0].donnees.listeEmplacements.emplacement[0].listeCoordonnees.coordonnees}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.Md,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={typeEmplacement:e,libelle:t,indicateurFiltreModes:r,indicateurReponseGaresSecondaires:a};return o.find("/1.0/util/rechercherListeEmplacementsCommencantPar",i).then((function(e){return e.res.reponseRechercherListeEmplacementsCommencantPar.reponse.listeResultats.resultat[0].donnees.listeEmplacements.emplacement}))}function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.O,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.V;return t=t.toUpperCase(),e=r!==n.O?{codeZoneArret:t,indicateurReponseGaresSecondaires:a,codeZoneArretDestination:r,format:i}:{codeZoneArret:t,indicateurReponseGaresSecondaires:a,format:i},o.find("/1.0/infoVoy/rechercherProchainsDeparts",e).then((function(e){var t=e.res;return{url:e.url,res:t.reponseRechercherProchainsDeparts.reponse.listeResultats.resultat}}))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={codeZoneArret:e=e.toUpperCase(),indicateurReponseGaresSecondaires:t};return o.find("/1.0/infoVoy/rechercherProchainesArrivees",r).then((function(e){var t=e.res,r=e.url;return{res:t.reponseRechercherProchainesArrivees.reponse.listeResultats.resultat,url:r}}))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.V,r={codeZoneArret:e=e.toUpperCase(),format:t};return o.find("/1.0/infoVoy/rechercherListeServicesEnGare",r).then((function(e){var t=e.res,r=e.url;return{res:t.reponseRechercherListeServicesEnGare.reponse.listeResultats.resultat[0].donnees,url:r}}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codeZoneArret:e=e.toUpperCase()};return o.find("/1.0/mm/rechercherProchainsDepartsMMGroupeHoraires",t).then((function(e){var t=e.res,r=e.url;return{res:t.reponseRechercherProchainsDepartsMMGroupeHoraires.reponse.listeResultats.resultat[0].donnees,url:r}}))}function f(e,t,r,a,i,s,c,l,u,p,d,f,m,h,b,y){var v={"depart.typeEmplacement":s,"arrivee.typeEmplacement":c,"depart.codeEmplacement":l,"arrivee.codeEmplacement":u,"depart.libelle":p,"arrivee.libelle":d};return(s===n.S||s===n.T||s===n.Md&&""!==t&&""!==r)&&(v["depart.coordXLng"]=t,v["depart.coordYLat"]=r,v["depart.typeCoordonnees"]=n.xd),(c===n.S||c===n.T||c===n.Md&&""!==a&&""!==i)&&(v["arrivee.coordXLng"]=a,v["arrivee.coordYLat"]=i,v["arrivee.typeCoordonnees"]=n.xd),v.sens=f,v.listeCodesMode=m,v.format=n.V,v.dateHeure=e,v.excludeLines=h,v.origineCP=b,v.destinationCP=y,o.find("/1.0/infoVoy/rechercherListeItineraires",v).then((function(e){var t=e.res;return{url:e.url,res:t.reponseRechercherListeItineraires.reponse.listeResultats.resultat[0]}}))}function m(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"TEMPS_REEL",i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7?arguments[7]:void 0,u=n.V,p={numero:e,dateCirculation:t,codeZoneArret:r,typeHoraire:a,codeZoneArretDepart:i,codeZoneArretArrivee:s,compositions:c,codeCirculation:l,format:u};return o.find("/1.0/infoVoy/rechercherListeCirculations",p).then((function(e){var t=e.res,r=e.url;return{res:t.reponseRechercherListeCirculations.reponse.listeResultats.resultat[0].donnees,url:r}}))}function h(){return o.find("/1.0/avance/rechercherAnimations").then((function(e){return e.res.reponseRechercherAnimations.reponse.listeResultats.resultat[0].donnees.listeInformations}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={codeZoneArret:e=e.toUpperCase(),indicateurReponseGaresSecondaires:t};return o.find("/1.0/avance/rechercherZoneArret",r).then((function(e){var t=e.res,r=e.url;return{res:t.reponseRechercherZoneArret.reponse.listeResultats.resultat,url:r}}))}function y(){return o.find("/1.0/avance/rechercherPrevisions").then((function(e){return e.res.reponseRechercherPrevisions.reponse.listeResultats.resultat[0].donnees.listeInformations}))}function v(e){var t={libelleLigne:e};return o.find("/1.0/util/rechercherDetailLigne",t).then((function(e){return e.res.reponseRechercherDetailLigne.reponse.listeResultats.resultat[0].donnees.listeEmplacements}))}function g(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={codeZoneArret:e=e.toUpperCase(),indicateurReponseGaresSecondaires:t};return o.find("/1.0/util/rechercherListeGaresAccessibles",r).then((function(e){return e.res.reponseRechercherListeGaresAccessibles.reponse.listeResultats.resultat}))}function O(e){return o.create("/auditoutline",{message:e})}t.a=function(e,t){return function(e,t){return o=new a.a(e,t),{logError:O,rechercherListeEmplacements:i,rechercherListeEmplacementsAdresse:s,rechercherListeEmplacementsCommencantPar:c,rechercherProchainsDeparts:l,rechercherProchainesArrivees:u,rechercherListeServicesEnGare:p,rechercherListeItineraires:f,rechercherListeCirculations:m,rechercherZoneArret:b,rechercherPrevisions:y,rechercherAnimations:h,rechercherDetailLigne:v,rechercherListeGaresAccessibles:g,rechercherProchainsDepartsMMGroupeHoraires:d}}(e,t)}},1685:function(e,t,r){"use strict";r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"c",(function(){return d}));var n=r(32),a=r(1691),o=r.n(a),i=r(26),s=r.n(i),c=function(e,t,r,n,a){return!o()(e,t)||(a.forEach((function(e){return r.push({labelError:n,fieldError:e})})),!1)},l=function(e,t,r,n){return null!=e&&""!==e&&!Number.isNaN(e)||(s()(t)&&t.push({labelError:r,fieldError:n}),!1)},u=function(e,t,r,n,a){return!(null==e||!e.match(t))||(r.push({labelError:n,fieldError:a}),!1)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,c=Object(n.a)(e,s);if(!c.isValid())return a.push({labelError:o.invalid,fieldError:i}),!1;if(null===t&&null!==r&&c.isAfter(r)){var l={maxDate:r.format(s)};return a.push({labelError:o.toLate,fieldError:i,data:l}),!1}if(null===r&&null!==t&&c.isBefore(t)){var u={minDate:t.format(s)};return a.push({labelError:o.toEarly,fieldError:i,data:u}),!1}if(null!==t&&c.isBefore(t)||null!==r&&c.isAfter(r)){var p={};return t&&(p.minDate=t.format(s)),r&&(p.maxDate=r.format(s)),a.push({labelError:o.notInInterval,fieldError:i,data:p}),!1}return!0},d=function(e,t){return t.formatMessage({id:e})!==e}},1686:function(e,t,r){"use strict";var n=r(1692);t.a=function(e){Object(n.a)(e)}},1687:function(e,t,r){"use strict";t.a=function(){var e=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"");return"tiny"===e||"small"===e}},1688:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(1),a=(r(38),r(13)),o=r.n(a),i=r(1686),s=r(193),c=function(e,t){return function(r){r({type:e,error:t})}},l=function(e,t){!1===s.b.isOnbeforeunload?function(e,t,r){return function(n){var a=o()(e,r,n.formatMessage({id:t}));Object(i.a)(a)}}(n.Id,"iv.url_unavailable_service",e)(t):console.error("route to Unavailable is disabled because of isOnbeforeunload")}},1689:function(e,t,r){"use strict";t.a=function(e){if(!e||!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;return{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}}},1690:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1749),a=r.n(n)()((function(e,t){return!(!t||!e)&&new RegExp(t,"i").test(e)}))(navigator.userAgent||navigator.vendor||window.opera)},1692:function(e,t,r){"use strict";t.a=function(e){window.location.assign(e)}},1694:function(e,t,r){"use strict";t.a=function(e,t){if(e&&e.msgId){var r=e.msgId.filter((function(e){return e.fieldError===t}));if(r&&r[0]&&r[0].labelError)return r}return null}},1695:function(e,t,r){"use strict";t.a=function(e){var t=document.getElementsByClassName("bar-header-languages-accessibility"),r=document.getElementsByClassName("header-for-sticky"),n=0;t.length>0&&(n=t[0].clientHeight);var a=0;r.length>0&&(a=r[0].clientHeight),n>document.body.scrollTop?e-=2*a+n:e-=2*a,window.scroll(0,e)}},1696:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(1728),a=r.n(n),o=r(1);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(e,t){return function(r,n){r?t(r):n.ok?201===n.status&&n.header.location?e(n.header.location):e({res:n.body,url:n.req.url}):t(n.body)}},c=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t,this.timeout={response:1e3*(r||o.F)}}var t,r,n;return t=e,(r=[{key:"find",value:function(e,t){var r=this,n={Accept:"application/json"};return drupalSettings.portailiv.basicAuthMIV&&(n={Accept:"application/json",Authorization:drupalSettings.portailiv.basicAuthMIV}),new Promise((function(o,i){return a.a.get(r.endpoint+e).timeout(r.timeout).query(t).set(n).end(s(o,i))}))}},{key:"create",value:function(e,t){var r=this;return new Promise((function(n,o){return a.a.post(r.endpoint+e).timeout(r.timeout).set("Content-Type","application/json").send(t).end(s(n,o))}))}},{key:"get",value:function(e){var t=this;return new Promise((function(r,n){return a.a.get(t.endpoint+e).timeout(t.timeout).set("Accept","application/json").end(s(r,n))}))}},{key:"put",value:function(e,t){var r=this;return new Promise((function(n,o){return a.a.put(r.endpoint+e).timeout(r.timeout).set("Content-Type","application/json").send(t).end(s(n,o))}))}}])&&i(t.prototype,r),n&&i(t,n),e}()},1697:function(e,t,r){"use strict";var n=r(4),a=r.n(n),o=r(0),i=r.n(o),s=r(33),c=r.n(s),l=r(1727),u=r.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E={accordion:!0,className:"accordion",onChange:c.a},S={accordion:a.a.bool,children:a.a.oneOfType([a.a.arrayOf(a.a.element),a.a.object]).isRequired,className:a.a.string,onChange:a.a.func},C=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=v(t).call(this,e),(r=!a||"object"!==p(a)&&"function"!=typeof a?g(n):a).componentWillReceiveProps=function(e){var t=r.preExpandedItems(e);r.setState(h({},t,{accordion:!0}))},r.preExpandedItems=function(e){var t=[],r=[],n=null;return i.a.Children.map(e.children,(function(a,o){if(a&&a.props){var i=null;a.type&&a.type===T&&(i=u.a.v4()),r.push(i),a.props.expanded&&(e.accordion?0===t.length&&t.push(o):t.push(o),null===n&&(n=i))}})),null===n&&(n=r.find((function(e){return null!==e}))),{activeItems:t,selected:n,itemUuidArray:r}},r.uppp=function(e,t){for(var r=e.length,n=e.indexOf(t),a=null;null===a;)(n=(n-1)%r)<0&&(n=e.length-1),a=e[n];return e[n]},r.downnn=function(e,t){for(var r=e.length,n=e.indexOf(t),a=null;null===a;)a=e[n=(n+1)%r];return a},r.renderItems=function(){var e=r.props,t=e.accordion,n=e.children;return i.a.Children.map(n,(function(e,n){if(!e||!e.props)return e;var a=n,o=-1!==r.state.activeItems.indexOf(a)&&!e.props.disabled,s=r.state.itemUuidArray[n],c={disabled:e.props.disabled,accordion:t,expanded:o,itemUuid:s,current:r.state.selected,tabIndex:"-1",key:"accordion__item-".concat(a),onClick:"block-itinerary-general-message"!==e.props.className?r.handleClick.bind(g(r),a):null,onKeyPress:r.handleKeyPress.bind(g(r),a)};if(s===r.state.selected){var l=f(c,["tabIndex"]);return i.a.cloneElement(e,l)}return i.a.cloneElement(e,c)}))};var o=r.preExpandedItems(r.props);return r.state=h({},o,{accordion:!0}),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),r=t,(n=[{key:"handleKeyPress",value:function(e,t){var r=this.state.selected;37===t.keyCode||38===t.keyCode?(r=this.uppp(this.state.itemUuidArray,r),this.setState({selected:r})):39!==t.keyCode&&40!==t.keyCode||(r=this.downnn(this.state.itemUuidArray,r),this.setState({selected:r}))}},{key:"handleClick",value:function(e){var t=this.state.activeItems,r=this.state.itemUuidArray[0];if(this.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=d(t)).indexOf(e),a=this.state.itemUuidArray[e];n>-1?t.splice(n,1):t.push(e),r=a}this.setState({activeItems:t,selected:r}),this.props.onChange(t)}},{key:"render",value:function(){var e=this.props.className;return i.a.createElement("div",{className:e},this.renderItems())}}])&&y(r.prototype,n),a&&y(r,a),t}(o.Component);C.propTypes=S,C.defaultProps=E;var w=C,k=r(1681),j=r.n(k),_=r(2);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x={onClick:a.a.func,onKeyPress:a.a.func,expanded:a.a.bool,current:a.a.string,children:a.a.arrayOf(a.a.element).isRequired,className:a.a.string,hideBodyClassName:a.a.string,itemUuid:a.a.string,tabIndex:a.a.number},M=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==D(a)&&"function"!=typeof a?R(n):a).renderChildren=r.renderChildren.bind(R(r)),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),r=t,(n=[{key:"renderChildren",value:function(){var e=this,t=this.props,r=t.expanded,n=t.onClick,a=t.onKeyPress,o=t.tabIndex,s=t.children,c=t.itemUuid;return i.a.Children.map(s,(function(t){var s={};return"AccordionItemTitle"===t.type.accordionElementName?(s.expanded=r,s.key="title",s.current=e.props.current,o&&(s.tabIndex=o),s.id="accordion__title-".concat(c),s.ariaControls="accordion__body-".concat(c),s.onClick=n,s.onKeyPress=a,s.role="tab",s.canFocus=Object(_.a)((function(){return document.activeElement.id.includes("accordion__title")}),!1),i.a.cloneElement(t,s)):"AccordionItemBody"===t.type.accordionElementName||"AccordionItemBodyFullLargeur"===t.type.accordionElementName?(s.expanded=r,s.key="body",s.id="accordion__body-".concat(c),s.role="tabpanel",i.a.cloneElement(t,s)):t}))}},{key:"render",value:function(){var e,t,r,n=this.props,a=n.className,o=n.expanded,s=n.hideBodyClassName,c=j()(a,(r=!o&&s,(t=s)in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));return i.a.createElement("div",{className:c,"data-accordion-opened":"false"},this.renderChildren())}}])&&N(r.prototype,n),a&&N(r,a),t}(o.Component);M.propTypes=x,M.defaultProps={accordion:!0,expanded:!1,onClick:function(){},onKeyPress:function(){},current:null,className:"",hideBodyClassName:null,itemUuid:"",tabIndex:0};var T=M;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L={id:a.a.string,ariaControls:a.a.string,expanded:a.a.bool,onClick:a.a.func,onKeyPress:a.a.func,children:a.a.oneOfType([a.a.element,a.a.arrayOf(a.a.element)]).isRequired,current:a.a.string,canFocus:a.a.bool},Y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=A(t).call(this,e))||"object"!==q(a)&&"function"!=typeof a?V(n):a).handleOnkeydown=r.handleOnkeydown.bind(V(r)),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){e.id.endsWith(e.current)&&e.canFocus&&e.expanded&&this.divTitle.focus()}},{key:"handleOnkeydown",value:function(e){38!==e.keyCode&&40!==e.keyCode&&39!==e.keyCode&&37!==e.keyCode||this.props.onKeyPress(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.expanded,a=t.onClick,o=t.children,s=t.ariaControls,c=i.a.Children.map(o,(function(e){return i.a.cloneElement(e,{expanded:n})}));return i.a.createElement("h2",{className:"traffic-info-block-accordion-title","data-accordion-btn":""},i.a.createElement("button",{type:"button",className:"traffic-info-accordion-header block-accordion-btn","aria-controls":s,"aria-expanded":n,onClick:a,onKeyDown:this.handleOnkeydown,id:r,ref:function(t){e.divTitle=t}},c))}}])&&F(r.prototype,n),a&&F(r,a),t}(o.Component);Y.propTypes=L,Y.defaultProps={id:"",ariaControls:"",expanded:!1,current:null,onClick:function(){},onKeyPress:function(){},hideBodyClassName:null,canFocus:!0},Y.accordionElementName="AccordionItemTitle";var W=Y;var U={id:a.a.string,expanded:a.a.bool,children:a.a.node,className:a.a.string,hideBodyClassName:a.a.string},G=function(e){var t,r,n,a=e.id,o=e.expanded,s=e.children,c=e.className,l=e.hideBodyClassName,u=j()(c,(n=!o,(r=l)in(t={})?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)),p=!o;return i.a.createElement("div",{id:a,className:u,"aria-hidden":p,"aria-labelledby":a,"aria-expanded":o},s)};G.propTypes=U,G.defaultProps={id:"",expanded:!1,className:"",hideBodyClassName:"js-hidden",children:""},G.accordionElementName="AccordionItemBody";var X=G;r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return T})),r.d(t,"d",(function(){return W})),r.d(t,"c",(function(){return X}))},1698:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(31);t.a=function(){return a.a.createElement("p",{className:"miv-disclaimer"},a.a.createElement(o.FormattedMessage,{id:"iv.disclaimer_content"}))}},1701:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(1691),l=r.n(c),u=r(192),p=r.n(u),d=r(1695),f=r(1689),m=r(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,v(t).call(this,e))).domelement=null,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.domelement&&this.domelement.focus&&this.domelement.focus()}},{key:"componentDidUpdate",value:function(e){var t=this,r=Object(m.a)((function(){return e.error.msgId}),!1),n=Object(m.a)((function(){return t.props.error.msgId}),!1);if(!1===l()(n,r)&&this.domelement&&this.domelement.focus){this.domelement.focus();var a=Object(f.a)(this.domelement).top;Object(d.a)(a)}}},{key:"render",value:function(){var e=this,t=Object(m.a)((function(){return e.props.error.msgId}),!1);if(t){t=t.reduce((function(e,t){return-1===p()(e.map((function(e){return e.labelError})),t.labelError)&&e.push(t),e}),[]);for(var r=[],n=0;n<t.length;n+=1)t[n].data?r.push(a.a.createElement(s.FormattedMessage,{id:t[n].labelError,tagName:"li",key:n,values:t[n].data})):r.push(a.a.createElement(s.FormattedMessage,{id:t[n].labelError,tagName:"li",key:n}));return(a.a.createElement("div",{id:"form-error-alert-block",className:"form-error-block-txt",ref:function(t){e.domelement=t},role:"alert","aria-live":"assertive",tabIndex:"-1"},a.a.createElement(s.FormattedMessage,{id:"iv.search_error"},(function(e){return a.a.createElement("p",{className:"form-error-block-title"},e)})),a.a.createElement("ul",{className:"form-error-block-list"},r)))}return null}}])&&b(r.prototype,n),o&&b(r,o),t}(n.Component);O.propTypes={error:i.a.shape({msgId:i.a.arrayOf(i.a.object)})},O.defaultProps={error:{}},t.a=O},1702:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(31),i=r(4),s=r.n(i),c=r(1),l=function(e){var t,r=e.expanded,n=e.type,i=e.id,s=e.data,l=e.titre,u=e.button,p=void 0===u||u,d=e.addTitle,f=void 0===d?"":d,m=l.length?l:i.length>0&&a.a.createElement(o.FormattedMessage,{id:i,values:s});return t="iv.canceled_circulation"===i||"iv.canceled_circulation_itinerary"===i?"icon snc-icon-circle-cancelled":"icon ".concat(c.Eb[n]),a.a.createElement("span",{className:"independent-accordion-btn-text"},a.a.createElement("span",{className:"independent-accordion-btn-text-icon"},a.a.createElement("span",{className:t,"aria-hidden":"true"})),m&&a.a.createElement("span",{className:"independent-accordion-btn-text-title"},m,f.length>0?" - ".concat(f):null),p&&a.a.createElement("span",{className:"independent-accordion-btn-text-toggle-container link-accordion-".concat(c.a[+r].dir)},a.a.createElement("span",{className:"independent-accordion-btn-text-toggle"},a.a.createElement(o.FormattedMessage,{id:"iv.".concat(c.a[+r].id)})),a.a.createElement("span",{className:"snc-icon-arrow","aria-hidden":"true"})))};l.propTypes={expanded:s.a.bool,type:s.a.string.isRequired,id:s.a.string,data:s.a.objectOf(s.a.string),titre:s.a.string,button:s.a.bool,addTitle:s.a.string},l.defaultProps={expanded:!1,data:{},id:"",titre:"",button:!0,addTitle:""},t.a=l},1703:function(e,t,r){"use strict";var n=r(1);t.a=function(e,t,r){var a=r.formatMessage({id:"autocomplete.label.all.stations"});return t!==n.T||e.includes(a)?e:e.concat(a)}},1706:function(e,t,r){"use strict";r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return h}));var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(1748);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=["auto","auto-left","auto-right","bottom","bottom-end","bottom-start","left","left-end","left-start","right","right-end","right-start","top","top-end","top-start"],h=function(e){function t(){return l(this,t),p(this,d(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.className,r=e.hidePopper,n=e.popperComponent,o=e.popperModifiers,i=e.popperPlacement,c=e.targetComponent;return a.a.createElement(s.Manager,null,a.a.createElement(s.Target,{className:"react-datepicker-wrapper"},c),!r&&a.a.createElement(s.Popper,{className:t,modifiers:o,placement:i},n))}}])&&u(r.prototype,n),o&&u(r,o),t}(a.a.Component);h.propTypes={className:i.a.string,hidePopper:i.a.bool,popperComponent:i.a.element.isRequired,popperModifiers:i.a.object,popperPlacement:i.a.oneOf(m),targetComponent:i.a.element.isRequired},h.defaultProps={hidePopper:!0,className:"react-datepicker-popper",popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperPlacement:"bottom-start"}},1708:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=function(e,t){var r=document.querySelector(e);return r&&t(r)},i=r(1700),s=r.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h1#react-miv-title";return function(r){function n(){var e,r;l(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(r=d(this,(e=f(n)).call.apply(e,[this].concat(i)))).componentWillUnmount=function(){o(t,(function(e){return e.removeAttribute("tabindex")}))},r}return m(n,r),p(n,[{key:"componentDidMount",value:function(){o(t,(function(e){e.setAttribute("tabindex","-1"),e.focus(),s()(e)}))}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),n}(n.Component)}},1710:function(e,t,r){"use strict";var n=r(2),a=r(1703),o=r(32);t.a=function(e){return function(t){return{name:Object(n.a)((function(){return Object(a.a)(t.name,t.type,e)})),uic:Object(n.a)((function(){return t.uic})),coordonneeX:Object(n.a)((function(){return parseFloat(t.coordonneeX)}),NaN),coordonneeY:Object(n.a)((function(){return parseFloat(t.coordonneeY)}),NaN),type:Object(n.a)((function(){return t.type})),indicateurSansGare:Object(n.a)((function(){return t.indicateurSansGare}),!1),date:Object(n.a)((function(){return t.date}),Object(o.a)()),codepostal:Object(n.a)((function(){return t.codepostal}),"")}}}},1713:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(32),c=r(31),l=r(1683),u=r(1706),p=r(1681),d=r.n(p),f=r(14),m=r.n(f);function h(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function b(e,t,r){var n=t.clone().startOf("day").subtract(1,"seconds"),a=r.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(n,a)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,n=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return r&&e.isBefore(r,"day")||n&&e.isAfter(n,"day")||a&&a.some((function(t){return h(e,t)}))||o&&!o.some((function(t){return h(e,t)}))||i&&!i(e.clone())||!1}function v(e){var t=e.minDate,r=e.includeDates;return r&&t?m.a.min(r.filter((function(e){return t.isSameOrBefore(e,"day")}))):r?m.a.min(r):t}function g(e){var t=e.maxDate,r=e.includeDates;return r&&t?m.a.max(r.filter((function(e){return t.isSameOrAfter(e,"day")}))):r?m.a.max(r):t}function O(e,t){var r=t.dateFormat,n=t.locale;return e&&e.clone().locale(n||m.a.locale()).format(Array.isArray(r)?r[0]:r)||""}var E={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"};function S(e){return E[e.isoWeekday()]}var C=r(1693);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){for(var r=[],n=0;n<2*t+1;n++)r.push(e+t-n);return r}var P=function(e){function t(e){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=j(t).call(this,e),(r=!o||"object"!==w(o)&&"function"!=typeof o?_(n):o).renderOptions=function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return a.a.createElement("div",{className:"react-datepicker__year-option",key:t,ref:t,onClick:r.onChange.bind(_(r),t)},e===t?a.a.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)}));return t.unshift(a.a.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:r.incrementYears},a.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),t.push(a.a.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:r.decrementYears},a.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=e.yearDropdownItemNumber,s=e.scrollableYearDropdown,c=i||(s?10:5);return r.state={yearsList:N(r.props.year,c)},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=d()({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return a.a.createElement("div",{className:e},this.renderOptions())}}])&&k(r.prototype,n),o&&k(r,o),t}(a.a.Component);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}P.propTypes={onCancel:i.a.func.isRequired,onChange:i.a.func.isRequired,scrollableYearDropdown:i.a.bool,year:i.a.number.isRequired,yearDropdownItemNumber:i.a.number};var F=Object(C.a)(P),A=function(e){function t(){var e,r;I(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=M(this,(e=T(t)).call.apply(e,[this].concat(o)))).state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?r.props.minDate.year():1900,t=r.props.maxDate?r.props.maxDate.year():2100,n=[],o=e;o<=t;o++)n.push(a.a.createElement("option",{key:o,value:o},o));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return a.a.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return a.a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},a.a.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),a.a.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return a.a.createElement(F,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(){r.setState({dropdownVisible:!r.state.dropdownVisible})},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return a.a.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}])&&x(r.prototype,n),o&&x(r,o),t}(a.a.Component);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?U(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}A.propTypes={dropdownMode:i.a.oneOf(["scroll","select"]).isRequired,maxDate:i.a.object,minDate:i.a.object,onChange:i.a.func.isRequired,scrollableYearDropdown:i.a.bool,year:i.a.number.isRequired,yearDropdownItemNumber:i.a.number};var X=function(e){function t(){var e,r;B(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=Y(this,(e=W(t)).call.apply(e,[this].concat(o)))).renderOptions=function(){return r.props.monthNames.map((function(e,t){return a.a.createElement("div",{className:"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(U(r),t)},r.props.month===t?a.a.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])&&L(r.prototype,n),o&&L(r,o),t}(a.a.Component);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}X.propTypes={onCancel:i.a.func.isRequired,onChange:i.a.func.isRequired,month:i.a.number.isRequired,monthNames:i.a.arrayOf(i.a.string.isRequired).isRequired};var Q=Object(C.a)(X),ee=function(e){function t(){var e,r;K(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=J(this,(e=z(t)).call.apply(e,[this].concat(o)))).state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e)}))},r.renderSelectMode=function(e){return a.a.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return a.a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},a.a.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]),a.a.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}))},r.renderDropdown=function(e){return a.a.createElement(Q,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e,t=this,r=m.a.localeData(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return r.months(m()({M:e}),t.props.dateFormat)}));switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return a.a.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}])&&Z(r.prototype,n),o&&Z(r,o),t}(a.a.Component);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ee.propTypes={dropdownMode:i.a.oneOf(["scroll","select"]).isRequired,locale:i.a.string,dateFormat:i.a.string.isRequired,month:i.a.number.isRequired,onChange:i.a.func.isRequired};var ce=function(e){function t(){var e,r;ne(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=oe(this,(e=ie(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return h(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return y(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,a=t.highlightDates;if(!a)return re({},e,!1);for(var o=0,i=a.length;o<i;o++){var s=a[o];if(s instanceof m.a){if(h(n,s))return re({},e,!0)}else if("object"===te(s)){var c=Object.keys(s),l=s[c[0]];if("string"==typeof c[0]&&l.constructor===Array)for(var u=0,p=l.length;u<p;u++)if(h(n,l[u]))return re({},c[0],!0)}}},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&b(t,n,a)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,a=e.selectsEnd,o=e.selectingDate,i=e.startDate,s=e.endDate;return!(!n&&!a||!o||r.isDisabled())&&(n&&s&&o.isSameOrBefore(s)?b(t,o,s):!!(a&&i&&o.isSameOrAfter(i))&&b(t,i,o))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.startDate;return h(t,e.selectsStart?n:a)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.endDate;return h(t,e.selectsEnd?n:a)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&h(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&h(a,t)},r.isWeekend=function(){var e=r.props.day.day();return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==r.props.day.month()},r.getClassNames=function(e){var t=r.props.dayClassName?r.props.dayClassName(e):void 0;return d()("react-datepicker__day",t,"react-datepicker__day--"+S(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(m.a.utc().utcOffset(r.props.utcOffset)),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-".concat(this.props.day.date()),role:"option"},this.props.day.date())}}])&&ae(r.prototype,n),o&&ae(r,o),t}(a.a.Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ce.propTypes={day:i.a.object.isRequired,dayClassName:i.a.func,endDate:i.a.object,highlightDates:i.a.array,inline:i.a.bool,month:i.a.number,onClick:i.a.func,onMouseEnter:i.a.func,preSelection:i.a.object,selected:i.a.object,selectingDate:i.a.object,selectsEnd:i.a.bool,selectsStart:i.a.bool,startDate:i.a.object,utcOffset:i.a.number},ce.defaultProps={utcOffset:m.a.utc().utcOffset()};var he=function(e){function t(){var e,r;ue(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=de(this,(e=fe(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){r.props.onClick&&r.props.onClick(e)},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return a.a.createElement("div",{className:d()(e),"aria-label":"week-".concat(this.props.weekNumber),onClick:this.handleClick},this.props.weekNumber)}}])&&pe(r.prototype,n),o&&pe(r,o),t}(a.a.Component);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Ee(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}he.propTypes={weekNumber:i.a.number.isRequired,onClick:i.a.func};var Ce=function(e){function t(){var e,r;ye(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=ge(this,(e=Oe(t)).call.apply(e,[this].concat(o)))).handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){"function"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):parseInt(e.format("w"),10)},r.renderDays=function(){var e=r.props.day.clone().startOf("week"),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var o=r.props.onWeekSelect?r.handleWeekClick.bind(Ee(r),e,n):void 0;t.push(a.a.createElement(he,{key:"W",weekNumber:n,onClick:o}))}return t.concat([0,1,2,3,4,5,6].map((function(t){var n=e.clone().add(t,"days");return a.a.createElement(ce,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(Ee(r),n),onMouseEnter:r.handleDayMouseEnter.bind(Ee(r),n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})})))},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}])&&ve(r.prototype,n),o&&ve(r,o),t}(a.a.Component);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.propTypes={day:i.a.object.isRequired,dayClassName:i.a.func,endDate:i.a.object,excludeDates:i.a.array,filterDate:i.a.func,formatWeekNumber:i.a.func,highlightDates:i.a.array,includeDates:i.a.array,inline:i.a.bool,maxDate:i.a.object,minDate:i.a.object,month:i.a.number,onDayClick:i.a.func,onDayMouseEnter:i.a.func,onWeekSelect:i.a.func,preSelection:i.a.object,selected:i.a.object,selectingDate:i.a.object,selectsEnd:i.a.bool,selectsStart:i.a.bool,showWeekNumber:i.a.bool,startDate:i.a.object,utcOffset:i.a.number};var Pe=function(e){function t(){var e,r;ke(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=_e(this,(e=De(t)).call.apply(e,[this].concat(o)))).handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isWeekInMonth=function(e){var t=r.props.day,n=e.clone().add(6,"days");return e.isSame(t,"month")||n.isSame(t,"month")},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=r.props.day.clone().startOf("month").startOf("week"),o=0,i=!1;e.push(a.a.createElement(Ce,{key:o,day:n,month:r.props.day.month(),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})),!i;){o++,n=n.clone().add(1,"weeks");var s=t&&o>=6,c=!t&&!r.isWeekInMonth(n);if(s||c){if(!r.props.peekNextMonth)break;i=!0}}return e},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd;return d()("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||a)})},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())}}])&&je(r.prototype,n),o&&je(r,o),t}(a.a.Component);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t,r){return t&&Me(e.prototype,t),r&&Me(e,r),e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Pe.propTypes={day:i.a.object.isRequired,dayClassName:i.a.func,endDate:i.a.object,excludeDates:i.a.array,filterDate:i.a.func,fixedHeight:i.a.bool,formatWeekNumber:i.a.func,highlightDates:i.a.array,includeDates:i.a.array,inline:i.a.bool,maxDate:i.a.object,minDate:i.a.object,onDayClick:i.a.func,onDayMouseEnter:i.a.func,onMouseLeave:i.a.func,onWeekSelect:i.a.func,peekNextMonth:i.a.bool,preSelection:i.a.object,selected:i.a.object,selectingDate:i.a.object,selectsEnd:i.a.bool,selectsStart:i.a.bool,showWeekNumbers:i.a.bool,startDate:i.a.object,utcOffset:i.a.number};var Fe=["react-datepicker__year-select","react-datepicker__month-select"],Ae=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ie(this,xe(t).call(this,e))).handleClickOutside=function(e){r.props.onClickOutside(e)},r.handleDropdownFocus=function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return Fe.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&r.props.onDropdownFocus()},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,o=e.utcOffset,i=v(r.props),s=g(r.props),c=m.a.utc().utcOffset(o),l=a||n||t;return l||(i&&c.isBefore(i)?i:s&&c.isAfter(s)?s:c)},r.localizeMoment=function(e){return e.clone().locale(r.props.locale||m.a.locale())},r.increaseMonth=function(){r.setState({date:r.state.date.clone().add(1,"month")},(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState({date:r.state.date.clone().subtract(1,"month")},(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t){return r.props.onSelect(e,t)},r.handleDayMouseEnter=function(e){return r.setState({selectingDate:e})},r.handleMonthMouseLeave=function(){return r.setState({selectingDate:null})},r.handleMonthChange=function(e){r.props.onMonthChange&&(r.props.onMonthChange(e),r.props.onLocationChange())},r.changeYear=function(e){r.setState({date:r.state.date.clone().set("year",e)})},r.changeMonth=function(e){r.setState({date:r.state.date.clone().set("month",e)},(function(){return r.handleMonthChange(r.state.date)}))},r.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=e.clone().startOf("week"),n=[];return r.props.showWeekNumbers&&n.push(a.a.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=t.clone().add(e,"days"),o=r.props.useWeekdaysShort?n.localeData().weekdaysShort(n):n.localeData().weekdaysMin(n);return a.a.createElement("div",{key:e,className:"react-datepicker__day-name"},o)})))},r.renderPreviousMonthButton=function(){if(r.props.forceShowMonthNavigation||!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.minDate,a=r.includeDates,o=e.clone().subtract(1,t);return n&&o.isBefore(n,t)||a&&a.every((function(e){return o.isBefore(e,t)}))||!1}(r.state.date,"month",r.props))return a.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:r.decreaseMonth})},r.renderNextMonthButton=function(){if(r.props.forceShowMonthNavigation||!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.maxDate,a=r.includeDates,o=e.clone().add(1,t);return n&&o.isAfter(n,t)||a&&a.every((function(e){return o.isAfter(e,t)}))||!1}(r.state.date,"month",r.props))return a.a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--next",onClick:r.increaseMonth})},r.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),a.a.createElement("div",{className:t.join(" ")},e.format(r.props.dateFormat))},r.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return a.a.createElement(A,{dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:r.state.date.year(),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderMonthDropdown=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown)return a.a.createElement(ee,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonth,month:r.state.date.month()})},r.renderTodayButton=function(){if(r.props.todayButton)return a.a.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(m.a.utc().utcOffset(r.props.utcOffset).startOf("date"),e)}},r.props.todayButton)},r.renderMonths=function(){for(var e=[],t=0;t<r.props.monthsShown;++t){var n=r.state.date.clone().add(t,"M"),o="month-".concat(t);e.push(a.a.createElement("div",{key:o,className:"react-datepicker__month-container"},a.a.createElement("div",{className:"react-datepicker__header"},r.renderCurrentMonth(n),a.a.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==t),r.renderYearDropdown(0!==t)),a.a.createElement("div",{className:"react-datepicker__day-names"},r.header(n))),a.a.createElement(Pe,{day:n,dayClassName:r.props.dayClassName,onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,utcOffset:r.props.utcOffset})))}return e},r.state={date:r.localizeMoment(r.getDateInView()),selectingDate:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),Te(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},onLocationChange:function(){},utcOffset:m.a.utc().utcOffset(),monthsShown:1,forceShowMonthNavigation:!1}}}]),Te(t,[{key:"componentWillReceiveProps",value:function(e){e.preSelection&&!h(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeMoment(e.preSelection)}):e.openToDate&&!h(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeMoment(e.openToDate)})}},{key:"render",value:function(){return a.a.createElement("div",{className:d()("react-datepicker",this.props.className)},a.a.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.props.children)}}]),t}(a.a.Component);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t,r){return t&&Ue(e.prototype,t),r&&Ue(e,r),e}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ae.propTypes={className:i.a.string,children:i.a.node,dateFormat:i.a.oneOfType([i.a.string,i.a.array]).isRequired,dayClassName:i.a.func,dropdownMode:i.a.oneOf(["scroll","select"]).isRequired,endDate:i.a.object,excludeDates:i.a.array,filterDate:i.a.func,fixedHeight:i.a.bool,formatWeekNumber:i.a.func,highlightDates:i.a.array,includeDates:i.a.array,inline:i.a.bool,locale:i.a.string,maxDate:i.a.object,minDate:i.a.object,monthsShown:i.a.number,onClickOutside:i.a.func.isRequired,onMonthChange:i.a.func,forceShowMonthNavigation:i.a.bool,onDropdownFocus:i.a.func,onSelect:i.a.func.isRequired,onWeekSelect:i.a.func,openToDate:i.a.object,peekNextMonth:i.a.bool,scrollableYearDropdown:i.a.bool,preSelection:i.a.object,selected:i.a.object,selectsEnd:i.a.bool,selectsStart:i.a.bool,showMonthDropdown:i.a.bool,showWeekNumbers:i.a.bool,showYearDropdown:i.a.bool,startDate:i.a.object,todayButton:i.a.string,useWeekdaysShort:i.a.bool,utcOffset:i.a.number,weekLabel:i.a.string,yearDropdownItemNumber:i.a.number,onLocationChange:i.a.func};var He=Object(C.a)(Ae),Ke=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ye(this,We(t).call(this,e))).componentWillReceiveProps=function(e){null!==e.selected&&r.setState({inputValue:O(e.selected,e)})},r.calcInitialState=function(){var e=r.props.openToDate?m()(r.props.openToDate):r.props.selectsEnd&&r.props.startDate?m()(r.props.startDate):r.props.selectsStart&&r.props.endDate?m()(r.props.endDate):void 0!==r.props.utcOffset?m.a.utc().utcOffset(r.props.utcOffset):m()(),t=v(r.props),n=g(r.props),a=t&&e.isBefore(t)?t:n&&e.isAfter(n)?n:e;return{open:!1,preventFocus:!1,preSelection:r.props.selected?m()(r.props.selected):a}},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.refs.input.focus()},r.setOpen=function(e){r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection})},r.toggle=function(){!r.state.disabled&&r.setOpen(!r.state.open)},r.handleFocus=function(e){r.state.preventFocus||(r.props.onFocus(e),r.setOpen(!0))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){r.state.open?r.deferFocusInput():r.props.onBlur(e)},r.handleCalendarClickOutside=function(e){r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(e){if(!r.props.onChangeRaw||(r.props.onChangeRaw(e),!e.isDefaultPrevented())){r.setState({inputValue:e.target.value});var t,n,a,o,i,s=(t=e.target.value,n=r.props,a=n.dateFormat,o=n.locale,(i=m()(t,a,o||m.a.locale(),!0)).isValid()?i:null);s||!e.target.value?r.setSelected(s,e,!0):r.props.onChangeBadFormat&&r.props.onChangeBadFormat()}},r.handleSelect=function(e,t){r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.setSelected(e,t),r.props.inline||r.setOpen(!1)},r.handleLocationChange=function(){r.forceUpdate()},r.setSelected=function(e,t,n){var a=e;null!==a&&y(a,r.props)||(h(r.props.selected,a)&&!r.props.allowSameDay||(null!==a&&(r.props.selected&&(a=m()(a).set({hour:r.props.selected.hour(),minute:r.props.selected.minute(),second:r.props.selected.second()})),r.setState({preSelection:a})),r.props.onChange(a,t)),r.props.onSelect(a,t),n||r.setState({inputValue:null}))},r.setPreSelection=function(e){(!(void 0!==r.props.minDate&&void 0!==r.props.maxDate)||!e||b(e,r.props.minDate,r.props.maxDate))&&r.setState({preSelection:e})},r.onInputClick=function(){r.props.disabled||r.setOpen(!0)},r.onInputKeyDown=function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline){var n=m()(r.state.preSelection);if("Enter"===t?(e.preventDefault(),m.a.isMoment(r.state.preSelection)||m.a.isDate(r.state.preSelection)?r.handleSelect(n,e):r.setOpen(!1)):"Escape"===t?(e.preventDefault(),r.setOpen(!1)):"Tab"===t&&r.setOpen(!1),!r.props.disabledKeyboardNavigation){var a;switch(t){case"ArrowLeft":e.preventDefault(),a=n.subtract(1,"days");break;case"ArrowRight":e.preventDefault(),a=n.add(1,"days");break;case"ArrowUp":e.preventDefault(),a=n.subtract(1,"weeks");break;case"ArrowDown":e.preventDefault(),a=n.add(1,"weeks");break;case"PageUp":e.preventDefault(),a=n.subtract(1,"months");break;case"PageDown":e.preventDefault(),a=n.add(1,"months");break;case"Home":e.preventDefault(),a=n.subtract(1,"years");break;case"End":e.preventDefault(),a=n.add(1,"years")}r.setPreSelection(a)}}else"Enter"!==t&&"Escape"!==t&&"Tab"!==t&&r.onInputClick()},r.onClearClick=function(e){e.preventDefault(),r.props.onChange(null,e)},r.renderCalendar=function(){return r.props.inline||r.state.open&&!r.props.disabled?a.a.createElement(He,{ref:"calendar",locale:r.props.locale,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.props.highlightDates,includeDates:r.props.includeDates,inline:r.props.inline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,forceShowMonthNavigation:r.props.forceShowMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,utcOffset:r.props.utcOffset,outsideClickIgnoreClass:"react-datepicker",fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,dayClassName:r.props.dayClassName,className:r.props.calendarClassName,yearDropdownItemNumber:r.props.yearDropdownItemNumber,onLocationChange:r.handleLocationChange},r.props.children):null},r.renderDateInput=function(){var e=d()(r.props.className,Le({},"react-datepicker",r.state.open)),t=r.props.customInput||a.a.createElement("input",{type:"text"}),n=a.a.isValidElement(t)?{isOpen:r.state.open,toggle:r.toggle}:{},o="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:O(r.props.selected,r.props);return a.a.cloneElement(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:"input",value:o,onBlur:r.handleBlur,onChange:r.handleChange,onClick:r.onInputClick,onFocus:r.handleFocus,onKeyDown:r.onInputKeyDown,id:r.props.id,name:r.props.name,autoFocus:r.props.autoFocus,placeholder:r.props.placeholderText,disabled:r.props.disabled,autoComplete:r.props.autoComplete,className:e,title:r.props.title,readOnly:r.props.readOnly,required:r.props.required,tabIndex:r.props.tabIndex},n))},r.renderClearButton=function(){return r.props.isClearable&&null!=r.props.selected?a.a.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:r.onClearClick}):null},r.state=r.calcInitialState(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,e),Ge(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},utcOffset:m()().utcOffset(),monthsShown:1,withPortal:!1}}}]),Ge(t,[{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?a.a.createElement("div",null,this.props.inline?null:a.a.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?a.a.createElement("div",{className:"react-datepicker__portal"},e):null):a.a.createElement(u.a,{className:this.props.popperClassName,hidePopper:!this.state.open||this.props.disabled,popperModifiers:this.props.popperModifiers,targetComponent:a.a.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperComponent:e,popperPlacement:this.props.popperPlacement})}}]),t}(a.a.Component);Ke.propTypes={allowSameDay:i.a.bool,autoComplete:i.a.string,autoFocus:i.a.bool,calendarClassName:i.a.string,children:i.a.node,className:i.a.string,customInput:i.a.element,dateFormat:i.a.oneOfType([i.a.string,i.a.array]),dateFormatCalendar:i.a.string,dayClassName:i.a.func,disabled:i.a.bool,disabledKeyboardNavigation:i.a.bool,dropdownMode:i.a.oneOf(["scroll","select"]).isRequired,endDate:i.a.object,excludeDates:i.a.array,filterDate:i.a.func,fixedHeight:i.a.bool,formatWeekNumber:i.a.func,highlightDates:i.a.array,id:i.a.string,includeDates:i.a.array,inline:i.a.bool,isClearable:i.a.bool,locale:i.a.string,maxDate:i.a.object,minDate:i.a.object,monthsShown:i.a.number,name:i.a.string,onBlur:i.a.func,onChange:i.a.func.isRequired,onChangeBadFormat:i.a.func.isRequired,onSelect:i.a.func,onWeekSelect:i.a.func,onClickOutside:i.a.func,onChangeRaw:i.a.func,onFocus:i.a.func,onKeyDown:i.a.func,onMonthChange:i.a.func,openToDate:i.a.object,peekNextMonth:i.a.bool,placeholderText:i.a.string,popperClassName:i.a.string,popperModifiers:i.a.object,popperPlacement:i.a.oneOf(u.b),readOnly:i.a.bool,required:i.a.bool,scrollableYearDropdown:i.a.bool,selected:i.a.object,selectsEnd:i.a.bool,selectsStart:i.a.bool,showMonthDropdown:i.a.bool,showWeekNumbers:i.a.bool,showYearDropdown:i.a.bool,forceShowMonthNavigation:i.a.bool,startDate:i.a.object,tabIndex:i.a.number,title:i.a.string,todayButton:i.a.string,useWeekdaysShort:i.a.bool,utcOffset:i.a.number,value:i.a.string,weekLabel:i.a.string,withPortal:i.a.bool,yearDropdownItemNumber:i.a.number};var Ze=r(1),Je=r(57),ze=r(1690);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rt(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ot=function(e){function t(){var e,r;et(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=rt(this,(e=nt(t)).call.apply(e,[this].concat(a)))).formatDate=function(e){return Object(s.a)(e,Ze.r[r.props.lang]).format(Ze.Z)},r.isMobile=function(){return Object(ze.a)(r.props.regexMobileDetection)},r.handleChange=function(e){r.props.onChange({target:{value:Object(s.a)(e.target.value).format(Ze.r[r.props.lang])}})},r.displayDatePicker=function(e){e.preventDefault(),r.isMobile()?document.getElementById(r.props.nameChamp).focus():r.props.onClick(e),r.props.onInputFocus(e)},r.toggleDatePicker=function(e){e.preventDefault(),r.props.onInputFocus(),r.isMobile()?document.getElementById(r.props.nameChamp).focus():r.props.toggle()},r.getAdditionnalInputProps=function(){var e,t=r.props,n=t.value,a=t.minDate,o=t.maxDate,i=t.onChange,s=t.isError,c=t.describedBy,l=t.idChampError;return e=r.isMobile()?{type:"date",onChange:r.handleChange,value:r.formatDate(n),min:Object(Je.isEmpty)(a)?null:a.format(Ze.Z),max:Object(Je.isEmpty)(o)?null:o.format(Ze.Z)}:{type:"text",onClick:r.displayDatePicker,onChange:i,value:n},s&&(e["aria-invalid"]="true",e["aria-describedby"]=l),c&&(e["aria-describedby"]=c),e},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.intl,r=e.onInputFocus,n=e.isOpen,o=e.type,i=t.formatMessage({id:"iv.".concat(!n||this.isMobile()?"open":"close","_date_picker")}),s=t.formatMessage({id:"iv.ph_date"});return a.a.createElement("div",null,a.a.createElement("div",{className:"input-with-button"},"isTraficInfoStart"===o?a.a.createElement("input",Qe({},this.getAdditionnalInputProps(),{name:"idf-line-filter-from-date",id:"idf-line-filter-from-date",className:"form-field form-field-inverted",onFocus:r,placeholder:s,title:s})):null,"isTraficInfoEnd"===o?a.a.createElement("input",Qe({},this.getAdditionnalInputProps(),{name:"idf-line-filter-to-date",id:"idf-line-filter-to-date",className:"form-field form-field-inverted",onFocus:r,placeholder:s,title:s})):null,"isTraficInfoStart"!==o&&"isTraficInfoEnd"!==o?a.a.createElement("input",Qe({},this.getAdditionnalInputProps(),{name:"search-date",id:"search-date",className:"form-field",onFocus:r,placeholder:s,title:s})):null,a.a.createElement("div",{className:"container-btn","aria-hidden":"true"},a.a.createElement("button",{type:"button",onClick:this.toggleDatePicker,className:"btn btn-default react-datepicker-ignore-onclickoutside",title:i,tabIndex:"-1"},a.a.createElement("span",{className:"snc-icon-calendar","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},i)))),a.a.createElement(l.a,{error:this.props.error,nameChamp:this.props.nameChampError,id:this.props.idChampError}))}}])&&tt(r.prototype,n),o&&tt(r,o),t}(n.Component);ot.propTypes={onClick:i.a.func,onChange:i.a.func,value:i.a.string,toggle:i.a.func,isOpen:i.a.bool,minDate:i.a.instanceOf(s.a),maxDate:i.a.instanceOf(s.a),intl:c.intlShape.isRequired,onInputFocus:i.a.func,lang:i.a.string.isRequired,isError:i.a.bool,describedBy:i.a.string,error:l.a.propTypes.error.isRequired,nameChampError:i.a.string.isRequired,idChampError:i.a.string.isRequired,regexMobileDetection:i.a.string,type:i.a.string,nameChamp:i.a.string},ot.defaultProps={onClick:Je.noop,onChange:Je.noop,toggle:Je.noop,isOpen:!1,value:"",onInputFocus:Je.noop,isError:!1,isTraficInfo:!1,describedBy:void 0,minDate:null,maxDate:null,regexMobileDetection:"",type:"",nameChamp:""};var it=ot;function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=lt(this,ut(t).call(this,e))).componentWillReceiveProps=function(e){r.setState({startDate:e.startDate})},r.handleChange=function(e){r.setState({startDate:e}),r.props.onChange(e)},r.state={startDate:r.props.startDate},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.minDate,n=t.maxDate,o=t.intl,i=t.onFocus,s=t.isError,c=t.describedBy,l=t.lang,u=t.error,p=t.nameChampError,d=t.idChampError,f=t.type;return a.a.createElement(Ke,{customInput:a.a.createElement(it,{minDate:r,maxDate:n,intl:o,onInputFocus:i,isError:s,describedBy:c,lang:l,error:u,nameChampError:p,idChampError:d,regexMobileDetection:this.props.regexMobileDetection,type:f,nameChamp:p}),selected:this.state.startDate,onChange:this.handleChange,onChangeBadFormat:function(){return e.handleChange(null)},locale:this.props.lang,minDate:r,maxDate:n})}}])&&ct(r.prototype,n),o&&ct(r,o),t}(n.Component);dt.propTypes={onChange:i.a.func.isRequired,startDate:i.a.instanceOf(s.a),minDate:i.a.instanceOf(s.a),maxDate:i.a.instanceOf(s.a),intl:c.intlShape.isRequired,onFocus:i.a.func,lang:i.a.string.isRequired,isError:i.a.bool,describedBy:i.a.string,error:l.a.propTypes.error,nameChampError:i.a.string.isRequired,idChampError:i.a.string.isRequired,regexMobileDetection:i.a.string.isRequired,type:i.a.string},dt.defaultProps={startDate:Object(s.a)(),minDate:null,maxDate:null,onFocus:function(){},isError:!1,describedBy:void 0,error:l.a.defaultProps.error,type:""};t.a=Object(c.injectIntl)(dt)},1714:function(e,t,r){"use strict";var n=r(0),a=r(4),o=r.n(a),i=r(1687),s=function(){return"tiny"===window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"")},c=r(1689);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e,r;u(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=d(this,(e=f(t)).call.apply(e,[this].concat(a)))).callBackOnFocus=function(){if(Object(i.a)()){for(var e=Object(c.a)(document.getElementById(r.props.idAutoComplete)).top,t=document.documentElement.getElementsByTagName("label"),n=0;n<t.length;n+=1)t.item(n).getAttribute("for")===r.props.idAutoComplete&&(e=s()?Object(c.a)(t.item(n)).top-20:Object(c.a)(t.item(n)).top-40);window.scroll(0,e)}},r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.render({callBackOnFocus:this.callBackOnFocus})}}])&&p(r.prototype,n),a&&p(r,a),t}(n.Component);h.propTypes={render:o.a.func.isRequired,idAutoComplete:o.a.string},h.defaultProps={idAutoComplete:""};t.a=h},1715:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(1716),c=r(31),l=function(e){var t=e.contenuFormatSource,r=e.date,n=e.dateHeure;return!0===Object(s.a)(t)&&(t=t.replace(/(<a href=)/g,'<a class="links-external" target="_blank" href=').replace(/(<\/a>)/g,'</a><span class="visually-hidden">"Nouvelle fenêtre"</span>')),a.a.createElement("div",{className:"grid"},a.a.createElement("div",{className:"traffic-info-accordion-panel-content"},r&&n&&a.a.createElement("p",null,a.a.createElement(c.FormattedMessage,{id:"iv.update.message.conjoncturelle",values:{date:r,dateHeure:n}})),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:t}})))};l.propTypes={contenuFormatSource:i.a.string},l.defaultProps={contenuFormatSource:""},t.a=l},1716:function(e,t,r){"use strict";t.a=function(e){var t=!1;return e&&-1!==e.indexOf("<a href")&&(t=!0),t}},1717:function(e,t,r){"use strict";var n=r(4),a=r.n(n),o=r(0),i=r.n(o),s=r(1681),c=r.n(s),l=r(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h={onClick:a.a.func,onKeyPress:a.a.func,expanded:a.a.bool,current:a.a.string,children:a.a.arrayOf(a.a.element).isRequired,className:a.a.string,hideBodyClassName:a.a.string,itemUuid:a.a.string,tabIndex:a.a.number},b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?f(n):a).renderChildren=r.renderChildren.bind(f(r)),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,(n=[{key:"renderChildren",value:function(){var e=this,t=this.props,r=t.expanded,n=t.onClick,a=t.onKeyPress,o=t.tabIndex,s=t.children,c=t.itemUuid;return i.a.Children.map(s,(function(t){var s={};return"AccordionItemTitle"===t.type.accordionElementName?(s.expanded=r,s.key="title",s.current=e.props.current,o&&(s.tabIndex=o),s.id="accordion__title-".concat(c),s.ariaControls="accordion__body-".concat(c),s.onClick=n,s.onKeyPress=a,s.role="tab",s.canFocus=Object(l.a)((function(){return document.activeElement.id.includes("accordion__title")}),!1),i.a.cloneElement(t,s)):"AccordionItemBody"===t.type.accordionElementName||"AccordionItemBodyFullLargeur"===t.type.accordionElementName?(s.expanded=r,s.key="body",s.id="accordion__body-".concat(c),s.role="tabpanel",i.a.cloneElement(t,s)):t}))}},{key:"render",value:function(){var e,t,r,n=this.props,a=n.className,o=n.expanded,s=n.hideBodyClassName,l=c()(a,(r=!o&&s,(t=s)in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));return i.a.createElement("div",{className:l},this.renderChildren())}}])&&p(r.prototype,n),a&&p(r,a),t}(o.Component);b.propTypes=h,b.defaultProps={accordion:!0,expanded:!1,onClick:function(){},onKeyPress:function(){},current:null,className:"",hideBodyClassName:null,itemUuid:"",tabIndex:0},t.a=b},1720:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(1702),c=r(1697),l=r(1705),u=r.n(l),p=r(32),d=r(1715),f=r(1717),m=r(1681),h=r.n(m);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E={id:i.a.string,expanded:i.a.bool,onClick:i.a.func,onKeyPress:i.a.func,ariaControls:i.a.string,children:i.a.oneOfType([i.a.element,i.a.arrayOf(i.a.element)]).isRequired,current:i.a.string,className:i.a.string,hideBodyClassName:i.a.string,canFocus:i.a.bool},S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==b(a)&&"function"!=typeof a?g(n):a).handleKeyPress=r.handleKeyPress.bind(g(r)),r.handleOnkeydown=r.handleOnkeydown.bind(g(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),r=t,(n=[{key:"componentDidUpdate",value:function(){this.props.id.endsWith(this.props.current)&&this.props.canFocus&&this.divTitle.focus()}},{key:"handleKeyPress",value:function(e){13!==e.charCode&&32!==e.charCode||this.props.onClick()}},{key:"handleOnkeydown",value:function(e){38!==e.keyCode&&40!==e.keyCode&&39!==e.keyCode&&37!==e.keyCode||this.props.onKeyPress(e)}},{key:"render",value:function(){var e,t,r,n=this,o=this.props,i=o.id,s=o.expanded,c=o.ariaControls,l=o.onClick,u=o.children,p=o.className,d=o.hideBodyClassName,f=h()(p,(r=d&&!s,(t=d)in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e)),m=a.a.Children.map(u,(function(e){return a.a.cloneElement(e,{expanded:s})}));return a.a.createElement("div",{id:i,ref:function(e){n.divTitle=e},"aria-controls":c,className:f,onClick:l,onKeyPress:this.handleKeyPress,onKeyDown:this.handleOnkeydown,"aria-expanded":s},m)}}])&&y(r.prototype,n),o&&y(r,o),t}(n.Component);S.propTypes=E,S.defaultProps={id:"",expanded:!1,current:null,onClick:function(){},onKeyPress:function(){},ariaControls:"",className:"",hideBodyClassName:null,canFocus:!0},S.accordionElementName="AccordionItemTitle";var C=S;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return R}));var R=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=D(this,N(t).call(this,e))).componentWillReceiveProps=function(e){JSON.stringify(e.animationMessages)!==JSON.stringify(r.props.animationMessages)&&r.setState({expandedList:e.animationMessages.map((function(e){return e&&e.expanded||!1}))})},r.onChange=function(e){if(e.length>0){var t=e[0];r.setState({expandedList:r.state.expandedList.map((function(e,r){return r===t}))})}else r.setState({expandedList:r.state.expandedList.map((function(){return!1}))})},r.state={expandedList:r.props.animationMessages.map((function(e){return e&&e.expanded||!1}))},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return a.a.createElement(c.a,{onChange:this.onChange},this.props.animationMessages.map((function(t,r){var n=t.message,o=t.expanded,i=t.date,l=j(t,["message","expanded","date"]);o=e.state.expandedList[r];var m=Object(p.a)(i).format("DD MMMM YYYY"),h=Object(p.a)(i).format("hh[h]mm");return a.a.createElement(f.a,{expanded:o,className:"independent-accordion independent-accordion-icon independent-accordion-crisis",key:u()(l)},a.a.createElement(C,{className:"independent-accordion-btn bg-raspberry"},a.a.createElement(s.a,k({},l,{expanded:o,type:"ANIMATION"}))),a.a.createElement(c.c,{className:"independent-accordion-content"},a.a.createElement(d.a,{contenuFormatSource:n,date:i?m:null,dateHeure:i?h:null})))})))}}])&&_(r.prototype,n),o&&_(r,o),t}(n.Component);R.propTypes={animationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired}))},R.defaultProps={animationMessages:[]}},1722:function(e,t,r){"use strict";t.a=function(e){var t=!1;return{promise:new Promise((function(r,n){e.then((function(e){return t?n({isCanceled:!0}):r(e)})).catch((function(e){return n(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}},1723:function(e,t,r){"use strict";var n=r(2);t.a=function(e){return{name:Object(n.a)((function(){return e.libelle})),uic:Object(n.a)((function(){return e.code})),coordonneeX:Object(n.a)((function(){return parseFloat(e.listeCoordonnees.coordonnees[1].coordXLng)}),NaN),coordonneeY:Object(n.a)((function(){return parseFloat(e.listeCoordonnees.coordonnees[1].coordYLat)}),NaN),type:Object(n.a)((function(){return e.type})),indicateurSansGare:Object(n.a)((function(){return e.infosCommune.indicateurSansGare}),!1),codepostal:Object(n.a)((function(){return e.commune.codePostal}),"")}}},1724:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(31);t.a=function(){return a.a.createElement("div",{className:"loader-link",role:"alert"},a.a.createElement("span",{className:"loader-img","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},a.a.createElement(o.FormattedMessage,{id:"iv.loading_content"})))}},1725:function(e,t,r){"use strict";var n=r(31),a=r(58),o=r(0),i=r.n(o),s=r(4),c=r.n(s),l=r(1729),u=r.n(l),p=r(1683),d=r(1694),f=r(1687),m=r(21),h=r(57),b=r(1710),y=r(1),v=r(1703),g=r(13),O=r.n(g),E=new RegExp("[".concat(["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"].join("\\")).concat("]"),"g");function S(e){return e.replace(E,"\\$&")}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){return w(this,t),j(this,_(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e,t,r,n,a,o,s,c,l=this,u=this.props.index,p=this.props.ariaSelected,d=Object(v.a)(this.props.d2dItem.name,this.props.d2dItem.type,this.props.intl);return e=""===this.props.inputValue&&this.props.labelcategory===this.props.intl.formatMessage({id:"autocomplete.label.PREVIOUS_SEARCHES"})?i.a.createElement("span",null,d):(t=this.props.inputValue,r=d,n=O()("(.*?(?={0}))({1})",S(t),S(t)),a=O()(".*{0}(.*)",S(t)),o=[],s=r.match(new RegExp(n,"gi")),c=[],null!==s&&s.forEach((function(e){c=e.match(new RegExp(n,"i")),o.push(c[1],c[2])})),null!==(c=r.match(new RegExp(a,"i")))?o.push(c[1]):o.push(r),o).map((function(e,t){return t%2==0?e:i.a.createElement("mark",{key:e.concat(t)},e)})),i.a.createElement("li",{role:"option",id:this.props.prefixElementId+u,className:"autocomplete-suggestion-item","data-suggestion-index":u,"aria-selected":p,onClick:function(){return l.props.handleClickMethod(l.props.d2dItem)}},i.a.createElement("div",null,this.props.labelcategory&&i.a.createElement("span",{className:"visually-hidden"},this.props.labelcategory," "),i.a.createElement("span",{className:"autocomplete-proposition-text"},e),i.a.createElement("span",{className:"snc-icon-arrow","aria-hidden":"true"})))}}])&&k(r.prototype,n),a&&k(r,a),t}(o.Component);N.propTypes={d2dItem:c.a.shape({coordonneeX:c.a.number.isRequired,coordonneeY:c.a.number.isRequired,category:c.a.string,name:c.a.string.isRequired,uic:c.a.string.isRequired,type:c.a.string.isRequired,indicateurSansGare:c.a.bool.isRequired}).isRequired,inputValue:c.a.string.isRequired,prefixElementId:c.a.string.isRequired,index:c.a.number.isRequired,ariaSelected:c.a.string.isRequired,handleClickMethod:c.a.func.isRequired,labelcategory:c.a.string,intl:n.intlShape.isRequired},N.defaultProps={labelcategory:null};var P=r(1724),R=function(e){var t=e.prefixElementId,r=e.index,a=e.ariaSelected,o=e.handleClickMethod,s=e.success,c=e.error,l=e.isLoading;return(i.a.createElement("li",{role:"option",id:t.concat(r),className:"autocomplete-simple-proposition autocomplete-use-localisation","aria-selected":a,onClick:function(){return o(s,c)}},i.a.createElement("div",null,i.a.createElement("span",{className:"snc-icon-position","aria-hidden":"true"}),i.a.createElement("span",{className:"autocomplete-localisation-message"},i.a.createElement(n.FormattedMessage,{id:"autocomplete.label.GEOLOCATION"})," ",l&&i.a.createElement(P.a,null)))))};R.propTypes={prefixElementId:c.a.string.isRequired,index:c.a.number.isRequired,ariaSelected:c.a.string.isRequired,handleClickMethod:c.a.func.isRequired,success:c.a.func.isRequired,error:c.a.func.isRequired,isLoading:c.a.bool.isRequired};var I=R,x=function(e){var t=e.errorId,r=e.isUnavailable,a=e.isEmpty,o=null;return t?o=t:r?o="unavailable":a&&(o="empty"),o&&i.a.createElement("li",{className:"autocomplete-simple-proposition autocomplete-error"},i.a.createElement("span",{className:"snc-icon-large-warning","aria-hidden":"true"}),i.a.createElement("span",{role:"alert",className:"autocomplete-error-message"},i.a.createElement(n.FormattedMessage,{id:"autocomplete.error.".concat(o)})))};x.propTypes={errorId:c.a.string,isUnavailable:c.a.bool,isEmpty:c.a.bool},x.defaultProps={errorId:"",isUnavailable:!1,isEmpty:!1};var M=x,T=r(1682);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=W(this,U(t).call(this,e))).callBackAfterRetreiveData=function(e){r.setState((function(n,a){var o=r.props.mapDataCallBack(e);r.props.updateAccessibility({isAriaExpanded:Boolean(o&&o.length>0),ariaOwns:"react-autocomplete-".concat(a.fieldName)});var i=t.previousSearches(a),s=[].concat(L(a.geolocation?n.geolocation:[]),L(i),L(o));return{isFetching:!1,error:null,autocompleteUnavailable:!1,localities:o,previousSearches:r.props.previousSearches,results:s,selectedIndex:-1}}))},r.callBackAfterError=function(e){r.setState((function(){return{isFetching:!1,error:e,autocompleteUnavailable:!0}})),r.props.updateAccessibility({isAriaExpanded:!0})},r.callAutocomplete=function(e){r.setState((function(){return{isFetching:!0}})),r.props.getDataCallBack(e,r.callBackAfterRetreiveData,r.callBackAfterError,r.props.genericValues)},r.handleClickOnStation=function(e){r.props.handleClickOnStation(e)},r.handleClickOnPreviousSearch=function(e){r.props.handleClickOnPreviousSearch(e)},r.handleClickOnGeolocation=function(e,t){r.props.handleClickOnGeolocation(e,t)},r.geolocationSuccess=function(e){r.props.geolocationSuccess(e)},r.geolocationError=function(e){r.props.geolocationError(e)},r.handleDropdownKeyup=function(e){switch(e.keyCode){case 40:r.increaseSelectedIndex();break;case 38:r.decreaseSelectedIndex()}},r.handleDropdownKeydown=function(e){var t,n=r.state.selectedIndex,a=r.state.results[n],o=r.state.results;switch(e.keyCode){case 9:o.length>1&&(e.preventDefault(),n<0?(o=o.filter((function(e){return"GEOLOCATION"!==e.type})),t=Object(h.head)(o),r.handleClickOnStation(t)):y.m.some((function(e){return e.is(a)}))?r.handleClickOnStation(a):a.type===y.W&&r.handleClickOnGeolocation(r.geolocationSuccess,r.geolocationError));break;case 13:e.preventDefault(),n<0?(o=o.filter((function(e){return"GEOLOCATION"!==e.type})),t=Object(h.head)(o),r.handleClickOnStation(t)):y.m.some((function(e){return e.is(a)}))?r.handleClickOnStation(a):a.type===y.W&&r.handleClickOnGeolocation(r.geolocationSuccess,r.geolocationError);break;case 27:e.preventDefault(),r.props.handleClickReset(r.props.inputValue)}},r.increaseSelectedIndex=function(){r.updateSelectedIndex(1)},r.decreaseSelectedIndex=function(){r.updateSelectedIndex(-1)},r.updateSelectedIndex=function(e){var t={selectedIndex:r.state.selectedIndex+e};r.state.selectedIndex===r.state.results.length-1&&e>0?t={selectedIndex:r.state.results.length,currentLocality:null}:r.state.selectedIndex===r.state.results.length&&e>0?t={selectedIndex:0,currentLocality:null}:0===r.state.selectedIndex&&e<0&&(t={selectedIndex:r.state.results.length,currentLocality:null}),r.setState(t);var n={ariaActiveDescendant:r.props.prefixElementId+t.selectedIndex},a=r.state.results[t.selectedIndex];a?n.preSelectedValue=a.name:(n.preSelectedValue=r.props.inputValue,n.ariaActiveDescendant=null),r.props.updateAccessibility(n)},r.state=t.getNewState(e),r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),r=t,o=[{key:"previousSearches",value:function(e){var t=e.intl,r=e.typePreviousSearches,n=void 0===r?[]:r,a=e.previousSearches,o=void 0===a?[]:a,i=e.nbPreviousSearch,s=void 0===i?5:i,c=e.inputValue,l=void 0===c?"":c,u=e.minCharForAutocomplete,p=void 0===u?2:u,d=o.filter((function(e){return n.includes(e.type)})).map(Object(b.a)(t));return l.length>0&&(d=d.filter((function(e){return Object(m.a)(e.name).includes(Object(m.a)(l))}))),d.sort((function(e,t){return e.date>t.date?-1:1})),l.length>=p?d.slice(0,2).map((function(e){return A({},e,{isPreviousSearch:!0})})):d.slice(0,s).map((function(e){return A({},e,{isPreviousSearch:!0})}))}},{key:"getNewState",value:function(e){var r={localities:[],previousSearches:t.previousSearches(e),geolocation:[{uic:"",coordonneeX:NaN,coordonneeY:NaN,type:y.W,name:e.intl.formatMessage({id:"autocomplete.label.GEOLOCATION"})}],selectedIndex:-1,autocompleteUnavailable:!1,isFetching:!1,error:null};return r.results=[].concat(L(e.geolocation?r.geolocation:[]),L(r.previousSearches)),r}}],(a=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleDropdownKeyup),document.addEventListener("keydown",this.handleDropdownKeydown),this.props.inputValue.trim().length>=this.props.minCharForAutocomplete&&this.callAutocomplete(this.props.inputValue),this.props.updateAccessibility({isAriaExpanded:this.state.results.length>0})}},{key:"componentWillReceiveProps",value:function(e){if(this.props.inputValue!==e.inputValue&&(e.inputValue.trim().length>=this.props.minCharForAutocomplete?this.callAutocomplete(e.inputValue):this.setState(t.getNewState(e))),this.state.localities.length>0&&e.isBlur){var r,n=this.state.selectedIndex,a=this.state.results[n],o=this.state.results;o.length>1&&(n<0?(o=o.filter((function(e){return"GEOLOCATION"!==e.type})),r=Object(h.head)(o),this.handleClickOnStation(r)):y.m.some((function(e){return e.is(a)}))?this.handleClickOnStation(a):a.type===y.W&&this.handleClickOnGeolocation(this.geolocationSuccess,this.geolocationError)),this.props.resetBlur()}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timoutId),document.removeEventListener("keyup",this.handleDropdownKeyup),document.removeEventListener("keydown",this.handleDropdownKeydown)}},{key:"getResultMessage",value:function(e){return this.props.intl.formatMessage({id:"autocomplete.results.info"},{resultsCount:e})}},{key:"constructItems",value:function(){var e,t,r,n=this,a=new Map(y.m.map((function(e){return[e.name,[]]}))),o=[];return this.state.results.forEach((function(t,s){r={prefixElementId:n.props.prefixElementId,ariaSelected:Boolean(s===n.state.selectedIndex).toString(),index:s},e=y.m.find((function(e){return e.is(t)})),y.W===t.type&&n.props.geolocation?o.push(i.a.createElement(I,B({key:t.type,handleClickMethod:n.handleClickOnGeolocation,success:n.geolocationSuccess,error:n.geolocationError,isLoading:n.props.isGeoLoading},r))):e&&a.get(e.name).push(i.a.createElement(N,B({key:t.name,d2dItem:t,labelcategory:n.props.intl.formatMessage({id:"autocomplete.label.".concat(e.name)}),inputValue:n.props.inputValue,handleClickMethod:n.handleClickOnStation,intl:n.props.intl},r)))})),this.props.showCategory?a.forEach((function(e,r){e.length>0&&(t=y.n.get(r),o.push(i.a.createElement("li",{key:t.name,className:"autocomplete-category-block"},i.a.createElement("div",{className:"autocomplete-con  ltainer-title-category"},i.a.createElement("span",{className:"autocomplete-icon-category ".concat(t.icon),"aria-hidden":"true"}),i.a.createElement("span",{className:"autocomplete-category-title"},n.props.intl.formatMessage({id:"autocomplete.label.".concat(r)}))),i.a.createElement("ul",{className:"autocomplete-list-proposition-category"},e))))})):a.forEach((function(e){o=[].concat(L(o),L(e))})),o}},{key:"render",value:function(){var e=this,t=this.state.results.filter((function(t){return!e.props.typesToExcludeFromResultsCount.includes(t.type)})).length,r=t>0,a=this.state.autocompleteUnavailable,o=!this.state.isFetching&&this.props.inputValue.length>=this.props.minCharForAutocomplete&&0===t;return i.a.createElement("div",null," ",(a||r||o)&&i.a.createElement("p",{className:"visually-hidden unstyled","aria-live":"polite","aria-atomic":"true"},a?i.a.createElement(n.FormattedMessage,{id:"autocomplete.noresults.info"}):null,r?this.getResultMessage(t):null,o?i.a.createElement(n.FormattedMessage,{id:"autocomplete.error.empty"}):null),i.a.createElement("ul",{className:"autocomplete-suggestions-list"},this.constructItems(),i.a.createElement(M,{isUnavailable:a,isEmpty:o&&!r})))}}])&&Y(r.prototype,a),o&&Y(r,o),t}(o.Component);function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}X.propTypes={minCharForAutocomplete:c.a.number.isRequired,inputValue:c.a.string.isRequired,intl:n.intlShape.isRequired,showCategory:c.a.bool.isRequired,fieldName:c.a.string.isRequired,handleClickOnStation:c.a.func.isRequired,handleClickReset:c.a.func.isRequired,updateAccessibility:c.a.func.isRequired,getDataCallBack:c.a.func.isRequired,mapDataCallBack:c.a.func.isRequired,handleClickOnPreviousSearch:c.a.func.isRequired,prefixElementId:c.a.string.isRequired,previousSearches:c.a.array,geolocation:c.a.bool.isRequired,handleClickOnGeolocation:c.a.func.isRequired,geolocationSuccess:c.a.func.isRequired,geolocationError:c.a.func.isRequired,isGeoLoading:c.a.bool.isRequired,typesToExcludeFromResultsCount:c.a.arrayOf(c.a.string),genericValues:T.b,resetBlur:c.a.func.isRequired,isBlur:c.a.bool.isRequired},X.defaultProps={previousSearches:[],typesToExcludeFromResultsCount:[],genericValues:T.a};var K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.previousSearchesArray=[],this.storage=t}var t,r,n;return t=e,(r=[{key:"exist",value:function(){return 0!==this.previousSearchesArray.length}},{key:"parseStorage",value:function(){try{return JSON.parse(this.getPreviousSearchesStorage(),(function(e,t){if(""!==t)return t}))}catch(e){return[]}}},{key:"deletePreviousSearch",value:function(e){var t=Array.from(this.previousSearchesArray);t.splice(e,1),this.previousSearches=t,this.setPreviousSearchesStorage(this.previousSearchesArray)}},{key:"getPreviousSearchesStorage",value:function(){var e=this.storage.getItem("previousSearches");return null===e?"[]":e}},{key:"setPreviousSearchesStorage",value:function(e){this.storage.setItem("previousSearches",JSON.stringify(e))}},{key:"previousSearches",get:function(){return this.exist()||(this.previousSearchesArray=this.parseStorage()),this.previousSearchesArray},set:function(e){this.previousSearchesArray=e}}])&&H(t.prototype,r),n&&H(t,n),e}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=z(this,$(t).call(this,e))).handleMouseDown=function(e){e.preventDefault()},r.state={currentLocality:null,previousSearches:new K(window.localStorage).previousSearches},r.prefixElementId="react-autocomplete-".concat(e.fieldName).concat("-"),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),r=t,(n=[{key:"componentWillUnmount",value:function(){this.props.updateAccessibility({isAriaExpanded:!1})}},{key:"render",value:function(){return i.a.createElement("div",{className:"autocomplete-container",id:this.props.ariaOwns,onMouseDown:this.handleMouseDown,role:"listbox"},this.props.isInputFocused&&i.a.createElement(X,{inputValue:this.props.inputValue,intl:this.props.intl,showCategory:this.props.showCategory,minCharForAutocomplete:this.props.minCharForAutocomplete,fieldName:this.props.fieldName,handleClickOnStation:this.props.handleClickOnStation,handleClickReset:this.props.handleClickReset,updateAccessibility:this.props.updateAccessibility,getDataCallBack:this.props.getDataCallBack,mapDataCallBack:this.props.mapDataCallBack,handleClickOnPreviousSearch:this.props.handleClickOnPreviousSearch,prefixElementId:this.prefixElementId,previousSearches:this.state.previousSearches,nbPreviousSearch:this.props.nbPreviousSearch,typePreviousSearches:this.props.typePreviousSearches,geolocation:this.props.geolocation,handleClickOnGeolocation:this.props.handleClickOnGeolocation,geolocationSuccess:this.props.geolocationSuccess,geolocationError:this.props.geolocationError,isGeoLoading:this.props.isGeoLoading,typesToExcludeFromResultsCount:this.props.typesToExcludeFromResultsCount,genericValues:this.props.genericValues,isBlur:this.props.isBlur,resetBlur:this.props.resetBlur}))}}])&&J(r.prototype,n),a&&J(r,a),t}(o.Component);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ee.propTypes={inputValue:c.a.string.isRequired,showCategory:c.a.bool.isRequired,minCharForAutocomplete:c.a.number.isRequired,intl:n.intlShape.isRequired,fieldName:c.a.string.isRequired,updateAccessibility:c.a.func.isRequired,handleClickOnStation:c.a.func.isRequired,handleClickReset:c.a.func.isRequired,handleClickOnPreviousSearch:c.a.func.isRequired,getDataCallBack:c.a.func.isRequired,mapDataCallBack:c.a.func.isRequired,ariaOwns:c.a.string.isRequired,isInputFocused:c.a.bool.isRequired,nbPreviousSearch:c.a.number.isRequired,typePreviousSearches:c.a.arrayOf(c.a.string).isRequired,geolocation:c.a.bool.isRequired,handleClickOnGeolocation:c.a.func.isRequired,geolocationSuccess:c.a.func.isRequired,geolocationError:c.a.func.isRequired,isGeoLoading:c.a.bool.isRequired,typesToExcludeFromResultsCount:c.a.arrayOf(c.a.string).isRequired,genericValues:T.b,isBlur:c.a.bool.isRequired,resetBlur:c.a.func.isRequired},ee.defaultProps={genericValues:T.a};var se=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ae(this,oe(t).call(this,e))).handleChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r.props.onChange(e,t),n&&r.closeDropdown()},r.handleClickReset=function(e){r.input.value=e,r.handleChange(e,{name:e},!0)},r.handleClickOnStation=function(e){r.handleChange(e.name,e),r.setState({isSelected:!0})},r.handleClickOnPreviousSearch=function(e){r.props.onSelectPreviousSearch(e),r.closeDropdown(),r.setState({isSelected:!0})},r.handleClickOnGeolocation=function(e,t){r.setState({isGeoLoading:!0,isSelected:!0}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t)},r.geolocationSuccess=function(e){r.closeDropdown();var t=e.coords,n={name:r.props.intl.formatMessage({id:"autocomplete.label.GEOLOCATION"}),uic:"",coordonneeX:t.longitude,coordonneeY:t.latitude,type:"ADRESSE"};r.handleClickOnStation(n),r.setState({isGeoLoading:!1})},r.geolocationError=function(){r.setState({isGeoLoading:!1})},r.handleFocus=function(){r.setState({isInputFocused:!0}),Object(f.a)()&&r.props.isNotModal&&document.getElementsByClassName("main-header")[0].classList.add("js-hidden"),r.props.callBackOnFocus()},r.handleBlur=function(e){Object(f.a)()&&document.getElementsByClassName("main-header")[0].classList.remove("js-hidden"),r.state.isIERealBlurEvent?e.currentTarget.contains(e.relatedTarget)||(r.props.inputValue.length>1?r.closeDropdown(!0):r.closeDropdown(!1)):r.setState({isIERealBlurEvent:!0})},r.resetBlur=function(){r.setState({isBlur:!1})},r.handleInputChange=function(e){e.target.value!==r.props.inputValue&&r.handleChange(e.target.value,{name:e.target.value},!1)},r.handleKeyUp=u()(r.handleInputChange,300),r.closeDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?r.setState({isBlur:!0}):(r.setState({isInputFocused:!1}),r.setState({isBlur:!1}))},r.handleKeyCode=function(e){e.keyCode&&(27!==e.keyCode&&13!==e.keyCode&&9!==e.keyCode&&r.setState({isInputFocused:!0}),37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode&&27!==e.keyCode&&(e.persist(),r.handleKeyUp(e)))},r.updateAccessibility=function(e){r.setState(e),e&&e.preSelectedValue&&(r.input.value=e.preSelectedValue)},r.setFocus=function(){document.getElementById(r.props.fieldName).focus()},r.onClick=function(){"departure-place"===r.props.fieldName?(r.props.resetDepartureInput(),r.setFocus()):"arrival-place"===r.props.fieldName?(r.props.resetArrivalInput(),r.setFocus()):"station-name"===r.props.fieldName?(r.props.resetStationInput(),r.setFocus()):"store-locator-results"===r.props.fieldName&&(r.props.resetStoreLocatorInput(),r.setFocus()),r.setState({isBlur:!1})},r.state={isInputFocused:!1,isAriaExpanded:!1,ariaActiveDescendant:"",isIERealBlurEvent:!0,isInError:!1,isGeoLoading:!1,isBlur:!1,isSelected:!1},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),r=t,(a=[{key:"componentDidUpdate",value:function(e){this.state.isSelected&&this.props.inputValue===this.input.value&&this.input.value.length>=this.props.minCharForAutocomplete&&this.input.value!==e.inputValue&&""!==e.inputValue&&(this.setState({isSelected:!1}),"departure-place"===this.props.fieldName?(this.props.resetDepartureInput(),this.setFocus()):"arrival-place"===this.props.fieldName&&(this.props.resetArrivalInput(),this.setFocus()),this.forceUpdate()),this.props.inputValue!==e.inputValue&&(this.input.value=this.props.inputValue)}},{key:"componentWillUnmount",value:function(){this.handleKeyUp.cancel()}},{key:"render",value:function(){var e=this,t="form-field autocomplete-input",r=this.props.fieldName.concat("-error"),a="react-autocomplete-".concat(this.props.fieldName,"-results"),o=i.a.createElement(p.a,{error:this.props.error,nameChamp:this.props.fieldName,id:r}),s={};this.props.title&&(s.title=this.props.title),this.props.placeholder&&(s.placeholder=this.props.placeholder),this.state.ariaActiveDescendant&&(s["aria-activedescendant"]=this.state.ariaActiveDescendant);var c,l,u=Object(d.a)(this.props.error,this.props.fieldName),f=u?this.props.fieldName.concat("-form-field-wrapper form-field-wrapper-icon-clear form-error "):this.props.fieldName.concat("-form-field-wrapper form-field-wrapper-icon-clear ");return u&&(s["aria-invalid"]=!0,s["aria-describedby"]=r),this.props.iconOnField&&(f=f.concat(this.props.iconOnField)),this.props.formFieldInvert&&(t=t.concat(" form-field-inverted")),"departure-place"===this.props.fieldName?(c=i.a.createElement(n.FormattedMessage,{id:"autocomplete.erase.departure.input"}),l=this.props.intl.formatMessage({id:"autocomplete.erase.departure.input"})):"arrival-place"===this.props.fieldName?(c=i.a.createElement(n.FormattedMessage,{id:"autocomplete.erase.arrival.input"}),l=this.props.intl.formatMessage({id:"autocomplete.erase.arrival.input"})):"station-name"===this.props.fieldName&&(c=i.a.createElement(n.FormattedMessage,{id:"autocomplete.erase.station.input"}),l=this.props.intl.formatMessage({id:"autocomplete.erase.station.input"})),i.a.createElement("div",{className:f},this.props.iconOnFieldStoreLocator&&i.a.createElement("span",{className:this.props.iconOnFieldStoreLocator,"aria-hidden":"true"}),i.a.createElement("input",re({id:this.props.fieldName,name:this.props.fieldName,className:t,type:"text",role:"combobox","aria-required":"true","aria-haspopup":this.state.isInputFocused&&this.state.isAriaExpanded,"aria-expanded":this.state.isInputFocused&&this.state.isAriaExpanded,"aria-autocomplete":"list","aria-owns":a,autoComplete:"off",onFocus:this.handleFocus,onKeyUp:this.handleKeyCode,onBlur:this.handleBlur,ref:function(t){e.input=t},defaultValue:this.props.inputValue},s)),this.props.inputValue.length>0&&i.a.createElement("button",{type:"button",className:"form-field-icon-clear",title:l,onClick:this.onClick},i.a.createElement("span",{className:"snc-icon-circle-close","aria-hidden":"true"}),i.a.createElement("span",{className:"visually-hidden"},c)),i.a.createElement(ee,{inputValue:this.props.inputValue,intl:this.props.intl,showCategory:this.props.showCategory,minCharForAutocomplete:this.props.minCharForAutocomplete,fieldName:this.props.fieldName,handleClickOnStation:this.handleClickOnStation,handleClickReset:this.handleClickReset,updateAccessibility:this.updateAccessibility,getDataCallBack:this.props.getDataCallBack,mapDataCallBack:this.props.mapDataCallBack,handleClickOnPreviousSearch:this.handleClickOnPreviousSearch,ariaOwns:a,isInputFocused:this.state.isInputFocused,isAriaExpanded:this.state.isAriaExpanded,nbPreviousSearch:this.props.nbPreviousSearch,typePreviousSearches:this.props.typePreviousSearches,geolocation:this.props.geolocation,handleClickOnGeolocation:this.handleClickOnGeolocation,geolocationSuccess:this.geolocationSuccess,geolocationError:this.geolocationError,isGeoLoading:this.state.isGeoLoading,typesToExcludeFromResultsCount:this.props.typesToExcludeFromResultsCount,genericValues:this.props.genericValues,isBlur:this.state.isBlur,resetBlur:this.resetBlur}),o)}}])&&ne(r.prototype,a),o&&ne(r,o),t}(o.Component);se.defaultProps={inputValue:"",error:null,placeholder:null,title:null,showCategory:!1,mapDataCallBack:function(e){return e},onSelectPreviousSearch:function(){},callBackOnFocus:function(){},geolocation:!1,typesToExcludeFromResultsCount:[],iconOnField:null,iconOnFieldStoreLocator:null,formFieldInvert:!1,genericValues:T.a,isNotModal:!0},se.propTypes={intl:n.intlShape.isRequired,error:p.a.propTypes.error,fieldName:c.a.string.isRequired,onChange:c.a.func.isRequired,getDataCallBack:c.a.func.isRequired,minCharForAutocomplete:c.a.number.isRequired,resetDepartureInput:c.a.func.isRequired,resetArrivalInput:c.a.func.isRequired,resetStationInput:c.a.func.isRequired,resetStoreLocatorInput:c.a.func.isRequired,placeholder:c.a.string,title:c.a.string,inputValue:c.a.string,showCategory:c.a.bool,onSelectPreviousSearch:c.a.func,mapDataCallBack:c.a.func,nbPreviousSearch:c.a.number.isRequired,typePreviousSearches:c.a.arrayOf(c.a.string).isRequired,callBackOnFocus:c.a.func,geolocation:c.a.bool,typesToExcludeFromResultsCount:c.a.arrayOf(c.a.string),iconOnField:c.a.string,iconOnFieldStoreLocator:c.a.string,formFieldInvert:c.a.bool,genericValues:T.b,isNotModal:c.a.bool};var ce=Object(n.injectIntl)(se);t.a=Object(a.connect)((function(e){return function(e){return{genericValues:e}}(e.genericValues)}))(ce)},1739:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(31);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(o.FormattedMessage,{id:"iv.search_button"},(function(t){return a.a.createElement("button",i({type:"submit"},e),t)}))}},1740:function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return p}));var n=r(1688),a=r(3),o=r(38),i=function(e){return function(){return Object(n.a)(a.Gb,{msgId:[{labelError:"iv.search_error_40x",fieldError:""}]})(e)}},s=function(e){return function(){return Object(n.a)(a.Fb,{msgId:[{labelError:"iv.search_error_invalid",fieldError:"station-name"}]})(e)}},c=function(e){return function(t,r){return Object(n.a)(t,{msgId:r})(e)}},l=function(e){return function(){return e({type:a.Hb})}},u=function(e){return function(){return e({type:a.a})}},p=function(e){return function(t,r,n){t&&(e(Object(o.replace)("/".concat(r,"/").concat(t))),e({type:a.a}),n(t,r))}}},1747:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f}));var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){},f=function(){},m=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,u(t).call(this,e))).componentWillUnmount=function(){window.removeEventListener("resize",r.handlePosition,!0)},r.componentDidUpdate=function(){r.handlePosition()},r.openClose=function(){var e=!r.state.displayed;r.setState({displayed:e}),e||r.openButton.focus()},r.handlePosition=function(){var e=-10-r.tooltip.offsetHeight;r.state.top!==e&&r.setState({top:e})},r.renderElement=function(e){return a.a.Children.map(r.props.children,(function(t){return t.type===e?t.props.children:null}))},r.render=function(){var e=r.props.id,t=r.state.displayed,n=r.state.displayed?"tooltip-content":"tooltip-content js-hidden";return a.a.createElement("div",null,a.a.createElement("button",{type:"button",className:"btn-tooltip",title:r.props.intl.formatMessage({id:"iv.train_tooltip_button"}),onClick:r.openClose,"aria-expanded":t,"aria-controls":e,ref:function(e){r.openButton=e}},r.renderElement(d)),a.a.createElement("div",{id:e,className:n,style:{top:"".concat(r.state.top,"px")},ref:function(e){r.tooltip=e}},a.a.createElement("button",{type:"button",className:"btn-close-tooltip","aria-expanded":t,"aria-controls":e,onClick:r.openClose},a.a.createElement("span",{className:"snc-icon-close","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},a.a.createElement(s.FormattedMessage,{id:"iv.close"}))),r.renderElement(f)))},r.state={displayed:!1,top:-165},window.addEventListener("resize",r.handlePosition,!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),t}(n.Component);m.propTypes={id:i.a.string.isRequired,children:i.a.arrayOf(i.a.element).isRequired,intl:s.intlShape.isRequired},t.c=m},1753:function(e,t,r){"use strict";var n=r(0),a=r(31),o=r(4),i=r.n(o),s=r(1684),c=r(1723),l=r(57),u=function(e,t,r){var n=e.filter((function(e){return e.type===t}));return Object(l.isNumber)(r)?n.slice(0,r):n},p=r(1),d=r(1722),f=r(1710);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,v(t).call(this,e))).onChange=function(e,t){r.setState({inputValue:e,selectedElement:t}),r.props.onInputChange(t)},r.cancelPreviousPromiseCallBack=function(){r.cancelablePromises.forEach((function(e){return e.cancel()}))},r.mapDataCallBack=function(e){var t=r.props.nbPlaces,n=u(e,p.S,1),a=u(e,p.Md,t),o=u(e,p.U,t-n.length),i=u(e,p.S,t-(o.length+n.length)),s=u(e,p.T,1).map(c.a).map(Object(f.a)(r.props.intl));s.length>0&&(s=s.filter((function(e){return!1===e.indicateurSansGare}))),o.forEach((function(e){e.type=p.S}));var l=[].concat(h(a),h(n),h(o),h(i)).map(c.a);return[].concat(h(s),h(l))},r.getDataCallBack=function(e,t,n,a){r.cancelPreviousPromiseCallBack();var o=e.replace(r.props.intl.formatMessage({id:"autocomplete.label.all.stations"}),""),i=Object(d.a)(Object(s.a)(r.props.endpoint,r.props.timeout).rechercherListeEmplacements(o,!0,a).then((function(e){return t(e)})).catch((function(e){n(e),a.errorCatch("rechercherListeEmplacements",e.status)})));i.promise.catch((function(){})),r.cancelablePromises.push(i)},r.state={inputValue:e.initialValue},r.cancelablePromises=[],r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){this.state.inputValue!==e.initialValue&&this.setState({inputValue:e.initialValue})}},{key:"componentWillUnmount",value:function(){this.cancelPreviousPromiseCallBack()}},{key:"render",value:function(){return this.props.render({inputValue:this.state.inputValue,getDataCallBack:this.getDataCallBack,mapDataCallBack:this.mapDataCallBack,onChange:this.onChange})}}])&&b(r.prototype,n),a&&b(r,a),t}(n.Component);O.propTypes={render:i.a.func.isRequired,onInputChange:i.a.func.isRequired,initialValue:i.a.string.isRequired,nbPlaces:i.a.number,endpoint:i.a.string,intl:a.intlShape.isRequired,timeout:i.a.number},O.defaultProps={nbPlaces:"",endpoint:"",timeout:""};t.a=O},1754:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"k",(function(){return f})),r.d(t,"i",(function(){return m})),r.d(t,"m",(function(){return h})),r.d(t,"j",(function(){return b})),r.d(t,"n",(function(){return y})),r.d(t,"l",(function(){return v})),r.d(t,"a",(function(){return g})),r.d(t,"h",(function(){return O})),r.d(t,"g",(function(){return E}));var n=r(1684),a=r(3),o=r(32),i=r(1),s=function(e,t,r,n,o,i,s,c,l,u,p,d,f,m,h,b){return{type:a.jb,data:m,date:e,departCoordXLng:t,departCoordYLat:r,arriveeCoordXLng:n,arriveeCoordYLat:o,departTypeEmplacement:i,arriveeTypeEmplacement:s,departCodeEmplacement:c,arriveeCodeEmplacement:l,departLibelle:u,arriveeLibelle:p,when:d,modes:f,url:h,removeLines:b}},c=function(e){return{type:a.kb,error:e}},l=function(e,t,r,l,u,p,d,f,m,h,b,y,v,g,O,E,S){return function(C){C(function(e,t,r,n,o,i,s,c,l,u,p,d,f,m){return{type:a.A,date:e,departCoordXLng:t,departCoordYLat:r,arriveeCoordXLng:n,arriveeCoordYLat:o,departTypeEmplacement:i,arriveeTypeEmplacement:s,departCodeEmplacement:c,arriveeCodeEmplacement:l,departLibelle:u,arriveeLibelle:p,when:d,modes:f,removeLines:m}}(e,t,r,l,u,p,d,f,m,h,b,y,v,E)),e=o.a.unix(e),Object(n.a)(g,O).rechercherListeItineraires(e.format(),t,r,l,u,p,d,f,m,h,b,"arrive-at"===y?i.f:i.eb,v,E).then((function(n){var a=n.res,o=n.url;C(s(e,t,r,l,u,p,d,f,m,h,b,y,v,a,o))}),(function(e){S("rechercherListeItineraires",e.status),C(c(e))}))}},u=function(){return{type:a.K}},p=function(e,t,r,o,s,l,u,p,d,f,m,h,b,y,v,g,O){return function(E){E(function(e,t,r,n,o,i,s,c,l,u,p,d,f,m){return{type:a.z,date:e,departCoordXLng:t,departCoordYLat:r,arriveeCoordXLng:n,arriveeCoordYLat:o,departTypeEmplacement:i,arriveeTypeEmplacement:s,departCodeEmplacement:c,arriveeCodeEmplacement:l,departLibelle:u,arriveeLibelle:p,when:d,modes:f,removeLines:m}}(e,t,r,o,s,l,u,p,d,f,m,h,b,g)),Object(n.a)(y,v).rechercherListeItineraires(e,t,r,o,s,l,u,p,d,f,m,"arrive-at"===h?i.f:i.eb,b,g).then((function(n){var i=n.res,c=n.url;i.donnees.listeItineraires&&E(function(e,t,r,n,o,i,s,c,l,u,p,d,f,m,h,b){return{type:a.ib,data:m,date:e,departCoordXLng:t,departCoordYLat:r,arriveeCoordXLng:n,arriveeCoordYLat:o,departTypeEmplacement:i,arriveeTypeEmplacement:s,departCodeEmplacement:c,arriveeCodeEmplacement:l,departLibelle:u,arriveeLibelle:p,when:d,modes:f,url:h,removeLines:b}}(e,t,r,o,s,l,u,p,d,f,m,h,b,i,c))}),(function(e){O("rechercherListeItineraires",e.status),E(c(e))}))}},d=function(){return{type:a.H}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{type:a.Nb,place:{label:e,coordX:r,coordY:n,uic:t,type:o,codepostal:i}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{type:a.Kb,place:{label:e,coordX:r,coordY:n,uic:t,type:o,codepostal:i}}},h=function(e){return{type:a.Xb,removedModes:e}},b=function(e){return{type:a.Mb,date:e}},y=function(e){return{type:a.dc,when:e}},v=function(e){return{type:a.Sb,modes:e}},g=function(e,t,r,o){return function(i){return i(function(e,t){return{type:a.r,libelleAdresse:e,dest:t}}(e,t)),Object(n.a)(r,o).rechercherListeEmplacementsAdresse(e).then((function(r){var n=r.filter((function(e){return"WGS84"===e.type}));i(function(e,t,r){return{type:a.d,data:r,libelleAdresse:e,dest:t}}(e,t,n))})).catch((function(e){i(function(e){return{type:a.T,error:e}}(e))}))}},O=function(){return{type:a.Ab}},E=function(){return{type:a.yb}}},1780:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=function(e){var t=e.isOptional;return a.a.createElement("label",{htmlFor:"departure-place",className:"timetables-search-departure-place-label form-label-text"},a.a.createElement(s.FormattedMessage,{id:"iv.itinerary_departure"}),t?null:a.a.createElement("sup",{className:"asterisk-required"}," *"))};c.propTypes={isOptional:i.a.bool},c.defaultProps={isOptional:!1},t.a=c},1781:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=function(e){var t=e.isOptional;return a.a.createElement("label",{htmlFor:"arrival-place",className:"timetables-search-arrival-place-label form-label-text"},a.a.createElement(s.FormattedMessage,{id:"iv.itinerary_arrival"}),t?null:a.a.createElement("sup",{className:"asterisk-required"}," *"))};c.propTypes={isOptional:i.a.bool},c.defaultProps={isOptional:!1},t.a=c},1782:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=function(e){var t=e.inputsReverse;return a.a.createElement(s.FormattedMessage,{id:"iv.itinerary_reverse"},(function(e){return a.a.createElement("button",{type:"button",title:e,className:"btn itinerary-button-toggle",onClick:t},a.a.createElement("span",{className:"snc-icon-circle-reverse","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},e))}))};c.propTypes={inputsReverse:i.a.func.isRequired},t.a=c},1783:function(e,t,r){"use strict";t.a=function(e,t){var r=parseFloat(e),n=parseFloat(t);return r===n||Number.isNaN(r)&&Number.isNaN(n)}},1784:function(e,t,r){"use strict";r.d(t,"j",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"p",(function(){return u})),r.d(t,"a",(function(){return p})),r.d(t,"f",(function(){return d})),r.d(t,"i",(function(){return f})),r.d(t,"h",(function(){return m})),r.d(t,"b",(function(){return h})),r.d(t,"m",(function(){return b})),r.d(t,"k",(function(){return y})),r.d(t,"g",(function(){return v})),r.d(t,"l",(function(){return g})),r.d(t,"o",(function(){return O})),r.d(t,"n",(function(){return E})),r.d(t,"d",(function(){return S}));var n=r(3),a=r(1754),o=r(38),i=r(1688),s=function(e){return function(){return Object(i.a)(n.Gb,{msgId:[{labelError:"iv.search_error_40x",fieldError:""}]})(e)}},c=function(e){return function(t,r){return Object(i.a)(t,{msgId:r})(e)}},l=function(e){return function(t,r){return Object(i.a)(t,{msgId:r})(e)}},u=function(e){return function(){return e({type:n.Hb})}},p=function(e){return function(){return e({type:n.a})}},d=function(e){return function(){e(Object(a.e)())}},f=function(e){return function(){e(Object(a.h)())}},m=function(e){return function(){e(Object(a.g)())}},h=function(e){return function(t,r,n,o){return e(Object(a.a)(t,r,n,o))}},b=function(e){return function(t,r,n,o,i,s){e(Object(a.k)(t,r,n,o,i,s))}},y=function(e){return function(t,r,n,o,i,s){e(Object(a.i)(t,r,n,o,i,s))}},v=function(e){return function(t,r,a){t&&(e(Object(o.replace)("/".concat(r,"/").concat(t))),e({type:n.a}),a(t,r))}},g=function(e){return function(t){return e(Object(a.j)(t))}},O=function(e){return function(t){return e(Object(a.n)(t))}},E=function(e){return function(t){return e(Object(a.l)(t))}},S=function(e){return function(t,r,n){(400===t.status||404===t.status||t.status>499&&t.status<510)&&e(Object(i.b)(n,r))}}},1818:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(1686),l=r(13),u=r.n(l),p=r(3),d=r(32),f=r(1685),m=r(1690),h=r(1),b=r(87),y=r(2),v=r(1682);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(t){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=C(this,w(r).call(this,e))).componentDidMount=function(){t.state.error&&(t.validate(),t.props.submitSearch())},t.getDate=function(){var e=document.getElementById("search-date").value;if(Object(m.a)(t.props.genericValues.regexMobileDetection)){var r=Object(d.a)(e);r.isValid()&&(e=r.format(h.r[t.props.genericValues.lang]))}return e},t.changeInput=function(e){t.setState({trainNumber:e.target.value.trim()})},t.resetTrainInput=function(){t.setState({trainNumber:""})},t.dateChange=function(e){t.setState({departureDate:e})},t.validate=function(){null!==t.props.error&&t.props.clearError();var e=[],r=t.getDate(),n=t.props.genericValues.nbDaysBefore?Object(d.a)().subtract(t.props.genericValues.nbDaysBefore,"days").startOf("day"):void 0,a=t.props.genericValues.nbDaysAfter?Object(d.a)().add(t.props.genericValues.nbDaysAfter,"days").endOf("day"):void 0;return Object(f.a)(t.state.trainNumber,e,"iv.search_trainNumber_error_empty","trainNumber"),Object(f.b)(t.state.trainNumber,h.kd,e,"iv.search_trainNumber_error_format","trainNumber"),Object(f.a)(r,e,"iv.itinerary.error.date.leave-at.empty","departureDate")&&Object(f.b)(r,h.s[t.props.genericValues.lang],e,"iv.search_error_date_format","departureDate")&&Object(f.e)(r,n,a,e,{invalid:"iv.search_error_invalid_date",toLate:"iv.search_error_to_late",toEarly:"iv.search_error_to_early",notInInterval:"iv.search_error_overflow_date"},"departureDate",h.r[t.props.genericValues.lang]),!(e.length>0)||(t.props.isOptionalFields||t.props.emptyInput(p.i,e),!1)},t.displayIntercalaire=function(){var e=t.props.genericValues.intercalaire;return e&&"1"===e.intercalaireIsActive},t.submit=function(e){if(e.preventDefault(),t.validate())Object(c.a)(u()(t.displayIntercalaire()?h.Y:h.ld,t.props.genericValues.lang,t.displayIntercalaire()?t.props.intl.formatMessage({id:"iv.url_intercalaire_itinerary_route"}):t.props.intl.formatMessage({id:"iv.url_train_route_choice"}),t.state.trainNumber,encodeURIComponent(t.state.departureDate.format(h.r[t.props.genericValues.lang]))));else if(t.props.isOptionalFields){var r=null!==t.state.departureDate?t.state.departureDate.format(h.r[t.props.genericValues.lang]):"";Object(c.a)(Object(b.h)(t.state.trainNumber,r,t.props.intl,t.props.genericValues.lang).concat("&error=true"))}t.props.submitSearch()};var n=t.props.genericValues,a=n.lang,o=n.features,i=n.endpoint,s=n.timeout,l=t.props.location.query,v=l.train,g=void 0===v?"":v,O=l.date,E=void 0===O?"":O,S=l.error,k=Object(d.a)(decodeURIComponent(E),h.r[a]);return e.fetch&&e.fetch(i,s),t.state={trainNumber:g||"",departureDate:k.isValid()?k:Object(d.a)(),featureDisabled:!Object(y.a)((function(){return o["iv-train-infos"]}),!0,y.c),error:S},t}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(r,t),n=r,(o=[{key:"componentWillMount",value:function(){this.state.featureDisabled&&this.props.routeToUnavailable&&this.props.routeToUnavailable(this.props.genericValues.lang,this.props.intl)}},{key:"render",value:function(){var t=this.props,r=t.serverError,n=t.invalidInput,o=t.emptyInput,i=t.emptyInputs,s=t.error,c=t.clearError,l=t.searchSubmit,u=E(t,["serverError","invalidInput","emptyInput","emptyInputs","error","clearError","searchSubmit"]);return a.a.createElement(e,O({},u,{errorHandling:{serverError:r,invalidInput:n,emptyInput:o,emptyInputs:i,clearError:c,error:l?s:null},onSubmit:this.submit,onInputChange:this.changeInput,onDateChange:this.dateChange,no:this.state.trainNumber,date:this.state.departureDate,intl:this.props.intl,resetTrainInput:this.resetTrainInput}))}}])&&S(n.prototype,o),i&&S(n,i),r}(n.Component);return t.propTypes={location:i.a.shape({query:i.a.objectOf(i.a.string)}).isRequired,routeToUnavailable:i.a.func,error:i.a.shape({status:i.a.number}),clearError:i.a.func.isRequired,emptyInput:i.a.func.isRequired,submitSearch:i.a.func.isRequired,serverError:i.a.func.isRequired,invalidInput:i.a.func.isRequired,emptyInputs:i.a.func.isRequired,searchSubmit:i.a.func.isRequired,isOptionalFields:i.a.bool,intl:s.intlShape.isRequired,fetch:i.a.func.isRequired,genericValues:v.b,resetTrainInput:i.a.func.isRequired},t.defaultProps={routeToUnavailable:null,error:void 0,isOptionalFields:!1,genericValues:v.a},t}},1819:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(2),l=r(1686),u=r(87),p=r(1685),d=r(3),f=r(1),m=r(32),h=r(1682);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(t){function r(e){var t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,a=O(r).call(this,e),(t=!a||"object"!==b(a)&&"function"!=typeof a?E(n):a).componentDidMount=function(){t.state.error&&(t.validate(),t.props.submitSearch())},t.changeUic=function(e){e?(t.props.clearError(),t.setState({uic:e.uic,label:e.name,coordonneeY:e.coordonneeY,coordonneeX:e.coordonneeX,codepostal:e.codepostal})):t.setState({uic:"",label:"",coordonneeY:NaN,coordonneeX:NaN,codepostal:""})},t.changeLabel=function(e){t.setState({label:e})},t.resetStationInput=function(){t.setState({uic:"",label:"",coordonneeY:NaN,coordonneeX:NaN,codepostal:""})},t.validate=function(){null!==t.props.error&&t.props.clearError();var e=[];return Object(p.a)(t.state.label,e,"iv.search_error_empty","station-name"),!e.length>0&&Object(p.a)(t.state.uic,e,"iv.search_error_invalid","station-name"),!(e.length>0)||(t.props.isOptionalFields||t.props.emptyInput(d.Eb,e),!1)},t.submit=function(e){if(e.preventDefault(),t.validate()){var r=!0,n=[],a=[],o=JSON.parse(localStorage.getItem("previousSearches")),i=Object(m.a)().unix();if(null!==o&&o.forEach((function(e){e.type===f.Md&&e.uic===t.state.uic&&e.codepostal===t.state.codepostal&&e.name===t.state.label&&(e.date=i,r=!1),e.date>Object(m.a)().subtract(1,"months").unix()&&a.push(e)}),E(t)),!r||isNaN(t.state.coordonneeX)||isNaN(t.state.coordonneeY))n=a;else{var s=[{uic:t.state.uic,name:t.state.label,type:f.Md,coordonneeX:t.state.coordonneeX,coordonneeY:t.state.coordonneeY,codepostal:t.state.codepostal,date:i}];n=a.length>0?s.concat(a):s}n.sort((function(e,t){return e.date>t.date?-1:1})),localStorage.setItem("previousSearches",JSON.stringify(n)),Object(l.a)(Object(u.l)(t.state.label,t.state.uic,t.props.intl,t.props.genericValues.lang))}else t.props.isOptionalFields&&Object(l.a)(Object(u.g)(t.state.label,t.state.uic,t.props.intl,t.props.genericValues.lang).concat("&error=true"));t.props.submitSearch()},e.fetch&&e.fetch(t.props.genericValues.endpoint,t.props.genericValues.timeout);var o=t.props.location.query,i=o.error,s=o.uic,h=o.label;return t.state={uic:s||"",label:h||"",coordonneeY:NaN,coordonneeX:NaN,featureDisabled:!Object(c.a)((function(){return t.props.genericValues.features["iv-station-tableaux-horaires"]}),!0,c.c),error:i},t}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(r,t),n=r,(o=[{key:"componentWillMount",value:function(){this.state.featureDisabled&&this.props.routeToUnavailable&&this.props.routeToUnavailable(this.props.genericValues.lang,this.props.intl)}},{key:"render",value:function(){var t=this,r=this.props,n=r.serverError,o=r.invalidInput,i=r.emptyInput,s=r.error,c=r.clearError,l=r.searchSubmit,u=v(r,["serverError","invalidInput","emptyInput","error","clearError","searchSubmit"]);return a.a.createElement(e,y({},u,{errorHandling:{serverError:n,invalidInput:o,emptyInput:i,clearError:c,error:l?s:null},onSubmit:this.submit,onInputChange:this.changeUic,getValue:function(){return t.state.label},setValue:this.changeLabel,intl:this.props.intl,resetStationInput:this.resetStationInput}))}}])&&g(n.prototype,o),i&&g(n,i),r}(n.Component);return t.propTypes={location:i.a.shape({query:i.a.objectOf(i.a.string)}).isRequired,routeToUnavailable:i.a.func,submitSearch:i.a.func.isRequired,clearError:i.a.func.isRequired,error:i.a.shape({status:i.a.number}),isOptionalFields:i.a.bool,serverError:i.a.func.isRequired,invalidInput:i.a.func.isRequired,emptyInput:i.a.func.isRequired,searchSubmit:i.a.bool.isRequired,intl:s.intlShape.isRequired,fetch:i.a.func.isRequired,genericValues:h.b},t.defaultProps={routeToUnavailable:null,error:void 0,isOptionalFields:!1,genericValues:h.a},t}},1820:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(0),a=r.n(n),o=r(2),i=r(192),s=r.n(i),c=r(31),l=r(13),u=r.n(l),p=r(1686),d=r(4),f=r.n(d),m=r(1),h=r(19),b=r(3),y=r(32),v=r(1685),g=r(1690),O=r(1683),E=r(1783),S=r(87),C=r(1682),w=r(1703);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=m.n.get(m.S);function x(e){var t,r;return r=t=function(t){function r(e){var t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,a=N(r).call(this,e),(t=!a||"object"!==k(a)&&"function"!=typeof a?P(n):a).changeUicDeparture=function(e){if(e){var r=Object(w.a)(e.name,e.type,t.props.intl);t.props.setDeparture(r,e.uic,e.coordonneeX,e.coordonneeY,e.type,e.codepostal)}},t.changeUicArrival=function(e){if(e){var r=Object(w.a)(e.name,e.type,t.props.intl);t.props.setArrival(r,e.uic,e.coordonneeX,e.coordonneeY,e.type,e.codepostal)}},t.inputsReverse=function(){t.props.invertPap()},t.resetDepartureInput=function(e){t.props.resetDepartureInput(),document.getElementById(e).value=""},t.resetArrivalInput=function(e){t.props.resetArrivalInput(),document.getElementById(e).value=""},t.dateChange=function(e){t.state.time.match(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/)&&null!==e&&e.set({hour:t.state.time.split(":")[0],minute:t.state.time.split(":")[1]}),t.setState({date:e}),t.props.setDate(e)},t.timeChange=function(e){var r=t.state.date;e.match(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/)&&null!==r&&r.set({hour:e.split(":")[0],minute:e.split(":")[1]}),t.setState({date:r,time:e}),t.props.setDate(r)},t.whenToGoChange=function(e){var r=e.target.value;if("now"===r){var n=Object(y.a)();t.setState({date:n,time:n.format("HH:mm")}),t.props.setDate(n)}t.props.setWhen(r)},t.modesChange=function(e){var r=e.target,n=r.value,a=r.checked,i=Object(o.a)((function(){return t.props.modes})),c=s()(i,n);a&&-1===c?i.push(n):!a&&c>-1&&i.splice(c,1),t.props.setModes(i)},t.modesChangeAll=function(e){var r=[];if(e.target.checked)for(var n=0;n<t.listModesOfTransport.length;n+=1)r.push(n.toString());t.props.setModes(r)},t.getDate=function(){var e=document.getElementById(m.Yc).value;if(Object(g.a)(t.props.genericValues.regexMobileDetection)){var r=Object(y.a)(e);r.isValid()&&(e=r.format(m.r[t.props.genericValues.lang]))}return e},t.clearError=function(){null!==t.props.error&&t.props.clearError()},t.validate=function(){t.clearError();var e=[];if(t.props.modes&&t.props.modes.length<=0&&e.push({labelError:"iv.itinerary.error.modes.empty",fieldError:"transportation-checkbox"}),Object(v.a)(t.props.departure.label,e,"iv.itinerary.error.departure.empty",m.N),void 0!==e[0]&&e[e.length-1].fieldError===m.N||(I.is(t.props.departure)?(Object(v.a)(t.props.departure.coordX,e,h.e,m.N),Object(v.a)(t.props.departure.coordY,e,h.e,m.N)):Object(v.a)(t.props.departure.uic,e,"iv.itinerary.error.departure.incorrect",m.N)),Object(v.a)(t.props.arrival.label,e,"iv.itinerary.error.arrival.empty",m.e),void 0!==e[0]&&e[e.length-1].fieldError===m.e||(I.is(t.props.arrival)?(Object(v.a)(t.props.arrival.coordX,e,h.e,m.e),Object(v.a)(t.props.arrival.coordY,e,h.e,m.e)):Object(v.a)(t.props.arrival.uic,e,"iv.itinerary.error.arrival.incorrect",m.e)),0===e.length&&(t.props.departure.label===t.props.intl.formatMessage({id:h.a})||t.props.arrival.label===t.props.intl.formatMessage({id:h.a})?Object(v.d)(t.props.departure.label,t.props.arrival.label,e,"iv.itinerary.error.departure.equal.arrival",[m.N,m.e]):Object(v.d)(t.props.departure,t.props.arrival,e,"iv.itinerary.error.departure.equal.arrival",[m.N,m.e])),"now"!==t.props.when){var r=t.getDate(),n=t.props.genericValues.nbDaysBefore?Object(y.a)().subtract(t.props.genericValues.nbDaysBefore,"days").startOf("day"):void 0,a=t.props.genericValues.nbDaysAfter?Object(y.a)().add(t.props.genericValues.nbDaysAfter,"days").endOf("day"):void 0;Object(v.a)(r,e,"iv.itinerary.error.date.".concat(t.props.when,".empty"),m.Yc)&&Object(v.b)(r,m.s[t.props.genericValues.lang],e,"iv.search_error_date_format",m.Yc)&&Object(v.e)(r,n,a,e,{invalid:"iv.search_error_invalid_date",toLate:"iv.search_error_to_late",toEarly:"iv.search_error_to_early",notInInterval:"iv.search_error_overflow_date"},m.Yc,m.r[t.props.genericValues.lang]),Object(v.a)(t.state.time,e,"iv.itinerary.error.time.".concat(t.props.when,".empty"),m.Zc)&&Object(v.b)(t.state.time,/^\d{2}:\d{2}$/,e,"iv.itinerary.error.time.format",m.Zc)&&Object(v.b)(t.state.time,/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,e,"iv.itinerary.error.time.valid",m.Zc)}return!(e.length>0)||(t.props.emptyInput(b.Eb,e),t.props.invalidCoord(b.f,e),!1)},t.displayIntercalaire=function(){var e=t.props.genericValues.intercalaire;return e&&"1"===e.intercalaireIsActive},t.getTimeDifference=function(){var e=t.state.date.clone().startOf("day"),r=Object(y.a)().startOf("day"),n=e.diff(r,"days");return n>=0&&(n="+".concat(n)),n},t.getTypeOfSearch=function(){for(var e=0;e<m.Pd.length;e+=1)if(t.props.when===m.Pd[e][1])return m.Pd[e][0];return!1},t.validation=function(){var e=t.props,r=e.departure,n=e.arrival,a=e.when,i=e.modes;if(t.props.errorWS)t.props.handleError(t.props.errorWS,t.props.intl,t.props.genericValues.lang);else if(t.validate()){var s=!0,c=!0,l=[],d=[],f=JSON.parse(localStorage.getItem("previousSearches")),b=Object(y.a)().unix(),v=r.label,g=n.label;if(v=r.type===m.T?v.replace(t.props.intl.formatMessage({id:"autocomplete.label.all.stations"}),""):v,g=n.type===m.T?g.replace(t.props.intl.formatMessage({id:"autocomplete.label.all.stations"}),""):g,null!==f&&f.forEach((function(e){e.type===r.type&&e.uic===r.uic&&e.name===v&&Object(E.a)(e.coordonneeX,r.coordX)&&Object(E.a)(e.coordonneeY,r.coordY)&&(e.date=b,s=!1),e.type===n.type&&e.uic===n.uic&&e.name===g&&Object(E.a)(e.coordonneeX,n.coordX)&&Object(E.a)(e.coordonneeY,n.coordY)&&(e.date=b,c=!1),e.date>Object(y.a)().subtract(1,"months").unix()&&d.push(e)}),P(t)),s||c){if(s&&r.label!==t.props.intl.formatMessage({id:h.a})){var O=[{uic:r.uic,name:v,type:r.type,coordonneeX:r.coordX,coordonneeY:r.coordY,codepostal:r.codepostal,date:b}];l=d.length>0?O.concat(d):O}if(c&&n.label!==t.props.intl.formatMessage({id:h.a})){var C=[{uic:n.uic,name:g,type:n.type,coordonneeX:n.coordX,coordonneeY:n.coordY,codepostal:n.codepostal,date:b}];l=l.length>0?C.concat(l):d.length>0?C.concat(d):C}}else l=d;l.sort((function(e,t){return e.date>t.date?-1:1})),localStorage.setItem("previousSearches",JSON.stringify(l));var w=Object(S.i)(r.uic,r.coordX,r.coordY,n.uic,n.coordX,n.coordY,a,t.state.date.unix(),r.label,n.label,t.props.intl,r.type,n.type,t.props.genericValues.lang,i,r.codepostal,n.codepostal,t.displayIntercalaire());Object(p.a)(encodeURI(w))}else{var k=Object(o.a)((function(){return window.location.pathname}),null);if(k&&!(k.endsWith(m.Jc)||k.endsWith(m.oc)||k.endsWith(m.Ub))){var j=u()(m.Id,t.props.genericValues.lang,t.props.intl.formatMessage({id:"iv.url_itinerary_search"})).concat("?label1=",r.label,"&label2=",n.label,"&uic1=",r.uic,"&coordX1=",r.coordX,"&coordY1=",r.coordY,"&uic2=",n.uic,"&coordX2=",n.coordX,"&coordY2=",n.coordY,"&typeDepart=",r.type,"&typeArrivee=",n.type,"&modes=",i,"&origineCP=",r.codepostal,"&destinationCP=",n.codepostal);Object(p.a)(encodeURI(j))}}t.props.submitSearch()},t.submitSearch=function(e){e.preventDefault();var r=[],n=t.props,a=n.departure,o=n.arrival,i=n.coordPap,s=n.genericValues,c=s.endpoint,l=s.timeout,u=s.locationItinerary,p=s.submitSearchGTM;!I.is(o)||Object(v.a)(o.coordX)&&Object(v.a)(o.coordY)||r.push(i(o.label,"arrival",c,l)),!I.is(a)||Object(v.a)(a.coordX)&&Object(v.a)(a.coordY)||r.push(i(a.label,"departure",c,l)),u(a.coordX,a.coordY,o.coordX,o.coordY),t.state.date&&p(t.getTypeOfSearch(),t.getTimeDifference()),Promise.all(r).then(t.validation)},t.submitHomepage=function(e){e.preventDefault();var r=[],n=t.props,a=n.departure,o=n.arrival,i=n.coordPap,s=n.genericValues,c=s.endpoint,l=s.timeout,u=s.locationItinerary;!I.is(o)||Object(v.a)(o.coordX)&&Object(v.a)(o.coordY)||r.push(i(o.label,"arrival",c,l)),!I.is(a)||Object(v.a)(a.coordX)&&Object(v.a)(a.coordY)||r.push(i(a.label,"departure",c,l)),u(a.coordX,a.coordY,o.coordX,o.coordY),Promise.all(r).then(t.validation)};var i=t.props,c=i.genericValues,l=c.endpoint,d=c.timeout,f=c.modesOfTransport,O=c.features,C=i.datetime,j=i.modes;e.fetch&&e.fetch(l,d);var _=Object(o.a)((function(){return C}),Object(y.a)(),o.c);t.featureDisabled=!Object(o.a)((function(){return O["iv-itineraire"]}),!0,o.c),t.listModesOfTransport=Object.keys(f),t.allModes=t.listModesOfTransport.map((function(e,t){return t.toString()})),t.state={time:_.format(m.ad),date:_};var D=Object(o.a)((function(){return j}),t.allModes,(function(e){return!e.length}));return t.props.setModes(D),t}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(r,t),n=r,(i=[{key:"componentWillMount",value:function(){this.featureDisabled&&this.props.routeToUnavailable&&this.props.routeToUnavailable(this.props.genericValues.lang,this.props.intl)}},{key:"render",value:function(){var t=this,r=this.props,n=r.serverError,o=r.emptyInput,i=r.invalidCoord,s=r.error,c=r.clearError,l=r.searchSubmit,u=r.intl,p=_(r,["serverError","emptyInput","invalidCoord","error","clearError","searchSubmit","intl"]);return a.a.createElement(e,j({},p,{errorHandling:{serverError:n,emptyInput:o,invalidCoord:i,clearError:c,error:l?s:null},onDateChange:this.dateChange,onTimeChange:this.timeChange,onWhenToGoChange:this.whenToGoChange,onModesChange:this.modesChange,onModesChangeAll:this.modesChangeAll,onSubmitSearch:this.submitSearch,onSubmitHomepage:this.submitHomepage,onInputChangeDep:this.changeUicDeparture,onInputChangeArr:this.changeUicArrival,inputsReverse:this.inputsReverse,getDepartureValue:function(){return t.props.departure.label},getArrivalValue:function(){return t.props.arrival.label},when:this.props.when,mode:this.props.modes,date:this.state.date,time:this.state.time,intl:u,validation:this.validation}))}}])&&D(n.prototype,i),c&&D(n,c),r}(n.Component),t.propTypes={intl:c.intlShape.isRequired,routeToUnavailable:f.a.func,resetDepartureInput:f.a.func.isRequired,resetArrivalInput:f.a.func.isRequired,setDeparture:f.a.func.isRequired,setArrival:f.a.func.isRequired,invertPap:f.a.func.isRequired,handleError:f.a.func.isRequired,coordPap:f.a.func.isRequired,setDate:f.a.func.isRequired,setWhen:f.a.func.isRequired,setModes:f.a.func.isRequired,clearError:f.a.func.isRequired,emptyInput:f.a.func.isRequired,invalidCoord:f.a.func.isRequired,submitSearch:f.a.func.isRequired,serverError:f.a.func.isRequired,departure:f.a.shape({label:f.a.string,uic:f.a.string,coordX:f.a.number,coordY:f.a.number,type:f.a.string}),arrival:f.a.shape({label:f.a.string,uic:f.a.string,coordX:f.a.number,coordY:f.a.number,type:f.a.string}),when:f.a.string.isRequired,modes:f.a.arrayOf(f.a.string).isRequired,datetime:f.a.instanceOf(y.a),error:O.a.propTypes.error,errorWS:O.a.propTypes.error,searchSubmit:f.a.bool.isRequired,fetch:f.a.func.isRequired,genericValues:C.b},t.defaultProps={routeToUnavailable:null,error:O.a.defaultProps.error,errorWS:O.a.defaultProps.error,datetime:null,departure:{label:"",uic:"",coordX:NaN,coordY:NaN,type:""},arrival:{label:"",uic:"",coordX:NaN,coordY:NaN,type:""},genericValues:C.a},r}},1824:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(32),c=r(1739),l=r(31),u=function(e){var t=e.children,r=e.intl;return a.a.createElement("span",null,a.a.createElement("div",{className:"train-input-block clearfix"},t),a.a.createElement(c.a,{className:"btn btn-default train-input-btn",title:r.formatMessage({id:"iv.train_search_legend_button"})}))};u.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),intl:l.intlShape.isRequired},u.defaultProps={children:null};var p=u,d=r(1701),f=r(1698),m=r(1720),h=r(1685),b=function(e){var t=e.children,r=e.onSubmit,n=e.error,o=e.isOptionalFields,i=e.cleanAnimationMessages,s=e.intl;return a.a.createElement("div",{className:"miv-tabs-content clearfix"},a.a.createElement("form",{onSubmit:r},a.a.createElement(d.a,{error:n}),i&&i.length>=1&&a.a.createElement(m.a,{animationMessages:i}),a.a.createElement("div",{className:"fieldset clearfix"},o?null:[a.a.createElement(l.FormattedMessage,{id:"iv.search_informations_title"},(function(e){return a.a.createElement("h3",{className:"miv-tabs-content-title"},e)})),a.a.createElement("p",{className:"required-fields"},a.a.createElement("sup",{className:"asterisk-required"}," * "),a.a.createElement(l.FormattedMessage,{id:"iv.required_fields"})),a.a.createElement("div",{className:"clearfix"})],t)),Object(h.c)("iv.disclaimer_content",s)&&a.a.createElement(f.a,null))};b.propTypes={children:i.a.element.isRequired,onSubmit:i.a.func.isRequired,error:d.a.propTypes.error,isOptionalFields:i.a.bool,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired,intl:l.intlShape.isRequired},b.defaultProps={error:null,isOptionalFields:!1};var y=b,v=r(1683);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var E=function(e){var t=e.errorHandling,r=O(e,["errorHandling"]);return a.a.createElement(y,g({},r,{error:t.error}))};E.propTypes={errorHandling:i.a.shape({error:v.a.propTypes.error})},E.defaultProps={errorHandling:{error:null}};var S=E,C=r(1747),w=r(1687),k=r(1);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=N(this,P(t).call(this,e))).onChange=function(e){r.setState({numeroTrain:e.target.value.replace(/\D/,"")}),r.props.onChange(e)},r.setFocus=function(){document.getElementById("train-number").focus()},r.handleFocus=function(){Object(w.a)()&&(document.getElementsByClassName("main-header")[0].classList.add("js-hidden"),r.props.callBackOnFocus())},r.handleBlur=function(){Object(w.a)()&&document.getElementsByClassName("main-header")[0].classList.remove("js-hidden")},r.resetTrainInput=function(){r.props.resetTrainInput(),r.setState({numeroTrain:""}),r.setFocus()},r.state={numeroTrain:""},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.value,r=e.intl,n=e.errorHandling,o={value:t,onChange:this.onChange,resetTrainInput:this.resetTrainInput,placeholder:r.formatMessage({id:"iv.ph_train_no"}),title:r.formatMessage({id:"iv.ph_train_no"}),ARIA_DESCRIBEDBY:"train-num-tooltip"},i="train-form-field-wrapper form-field-wrapper-icon-clear form-field-wrapper form-field-wrapper-tooltip";return n&&n.error&&n.error.msgId&&n.error.msgId.filter((function(e){return"trainNumber"===e.fieldError})).length>0&&(i="".concat(i," form-error"),o["aria-invalid"]="true",o[k.c]=o[k.c]?"".concat(o[k.c]," train-number-error-text"):"train-number-error-text"),a.a.createElement("div",{className:"train-input-number-block"},a.a.createElement("label",{htmlFor:"train-number",className:"train-search-label form-label-text"},a.a.createElement(l.FormattedMessage,{id:"iv.trainNumber_label"})," ",this.props.isOptionalFields?null:a.a.createElement("sup",{className:"asterisk-required"},"* "),a.a.createElement(l.FormattedMessage,{id:"iv.trainNumber_label_format"},(function(e){return a.a.createElement("span",{className:"date-format"},e)}))),a.a.createElement("div",{className:"clearfix"},a.a.createElement("div",{className:i},a.a.createElement("input",_({type:"text",id:"train-number",onFocus:this.handleFocus,onBlur:this.handleBlur,className:"form-field-with-info form-field",name:"train-number"},o,{maxLength:"6",onChange:this.onChange,value:this.state.numeroTrain})),this.state.numeroTrain.length>0&&a.a.createElement("button",{type:"button",className:"form-field-icon-clear",title:r.formatMessage({id:"autocomplete.erase.train.input"}),onClick:this.resetTrainInput},a.a.createElement("span",{className:"snc-icon-circle-close","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},a.a.createElement(l.FormattedMessage,{id:"autocomplete.erase.train.input"}))),a.a.createElement(C.c,{id:"train-num-tooltip",intl:this.props.intl},a.a.createElement(C.a,null,a.a.createElement("span",{className:"snc-icon-circle-tooltip","aria-hidden":"true"}),a.a.createElement("span",{className:"visually-hidden"},a.a.createElement(l.FormattedMessage,{id:"iv.more_information"})," ",a.a.createElement(l.FormattedMessage,{id:"iv.trainNumber_label"}))),a.a.createElement(C.b,null,a.a.createElement("div",{className:"tooltip-title"},a.a.createElement("p",null,a.a.createElement(l.FormattedMessage,{id:"iv.search_train.num_train.tooltip.title"}))),a.a.createElement("div",{className:"tooltip-text"},a.a.createElement("p",null,a.a.createElement(l.FormattedMessage,{id:"iv.search_train.num_train.tooltip.content"}))))))),a.a.createElement(v.a,{error:this.props.errorHandling.error,nameChamp:"trainNumber",id:"train-number-error-text"}))}}])&&D(r.prototype,n),o&&D(r,o),t}(n.Component);I.propTypes={onChange:i.a.func.isRequired,resetTrainInput:i.a.func.isRequired,callBackOnFocus:i.a.func.isRequired,value:i.a.string,errorHandling:i.a.shape({serverError:i.a.func.isRequired,invalidInput:i.a.func.isRequired,emptyInput:i.a.func.isRequired,emptyInputs:i.a.func,clearError:i.a.func.isRequired,error:v.a.propTypes.error}).isRequired,isOptionalFields:i.a.bool,intl:l.intlShape.isRequired},I.defaultProps={value:"",isOptionalFields:!1};var x=r(1713),M=r(1682),T=function(e){var t=e.date,r=e.onDateChange,n=e.error,o=e.isOptionalFields,i=e.genericValues,c="itinerary-form-field-wrapper form-field-wrapper",u=!1;return n&&n.msgId&&n.msgId.forEach((function(e){"departureDate"===e.fieldError&&(c="".concat(c," form-error"),u=!0)})),a.a.createElement("div",{className:"train-input-date-block"},a.a.createElement("label",{htmlFor:"search-date",className:"timetables-search-arrival-date-label form-label-text"},a.a.createElement(l.FormattedMessage,{id:"iv.departureDate_label"}),!o&&a.a.createElement("sup",{className:"asterisk-required"}," *"),a.a.createElement(l.FormattedMessage,{id:"iv.departureDate_label_format"},(function(e){return a.a.createElement("span",{className:"date-format"}," ",e)}))),a.a.createElement("div",{className:"clearfix"},a.a.createElement("div",{className:c},a.a.createElement(x.a,{onChange:r,startDate:t,lang:i.lang,minDate:i.nbDaysBefore?Object(s.a)().subtract(i.nbDaysBefore,"days"):void 0,maxDate:i.nbDaysAfter?Object(s.a)().add(i.nbDaysAfter,"days"):void 0,isError:u,error:n,nameChampError:"search-date",idChampError:"train-number-error-text",regexMobileDetection:i.regexMobileDetection}))))};T.propTypes={date:i.a.instanceOf(s.a).isRequired,onDateChange:i.a.func.isRequired,error:v.a.propTypes.error,isOptionalFields:i.a.bool,genericValues:M.b},T.defaultProps={error:null,isOptionalFields:!1,genericValues:M.a};var q=T,F=r(1708),A=r(1714),V=function(e){var t=e.onInputChange,r=e.onDateChange,n=e.onSubmit,o=e.errorHandling,i=e.no,s=e.date,c=e.intl,l=e.isOptionalFields,u=e.genericValues,d=e.cleanAnimationMessages,f=e.resetTrainInput;return a.a.createElement(S,{onSubmit:n,errorHandling:o,isOptionalFields:l,cleanAnimationMessages:d,intl:c},a.a.createElement(p,{intl:c},a.a.createElement(A.a,{idAutoComplete:"train-number",render:function(e){var r=e.callBackOnFocus;return a.a.createElement(I,{onChange:t,errorHandling:o,value:i,isOptionalFields:l,intl:c,resetTrainInput:f,callBackOnFocus:r})}}),a.a.createElement(q,{onDateChange:r,error:o.error,date:s,isOptionalFields:l,genericValues:u})))};V.propTypes={onInputChange:i.a.func.isRequired,onDateChange:i.a.func.isRequired,onSubmit:i.a.func.isRequired,resetTrainInput:i.a.func.isRequired,errorHandling:i.a.shape({serverError:i.a.func.isRequired,invalidInput:i.a.func.isRequired,emptyInput:i.a.func.isRequired,emptyInputs:i.a.func,clearError:i.a.func.isRequired,error:v.a.propTypes.error}).isRequired,no:i.a.string,date:i.a.instanceOf(s.a).isRequired,isOptionalFields:i.a.bool,intl:l.intlShape.isRequired,genericValues:M.b,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired},V.defaultProps={no:"",isOptionalFields:!1,genericValues:M.a};t.a=Object(F.a)(V)},1825:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(1739),l=function(e){var t=e.children,r=e.intl;return a.a.createElement("div",{className:"clearfix"},t,a.a.createElement(c.a,{className:"btn btn-default btn-station-name-search",title:r.formatMessage({id:"iv.timetables_search_legend_button"})}))};l.propTypes={children:i.a.element.isRequired,intl:s.intlShape.isRequired};var u=l,p=function(e){var t=e.labelId,r=e.isOptionalFields,n=e.format;return a.a.createElement("label",{htmlFor:"station-name",className:"timetables-search-station-label form-label-text"},a.a.createElement(s.FormattedMessage,{id:t})," ",r?null:a.a.createElement("sup",{className:"asterisk-required"},"*")," ",a.a.createElement(s.FormattedMessage,{id:n}))};p.propTypes={labelId:i.a.string.isRequired,isOptionalFields:i.a.bool,format:i.a.string},p.defaultProps={isOptionalFields:!1,format:"iv.null_message"};var d=p,f=r(1701),m=r(1698),h=r(1720),b=r(1685),y=function(e){var t=e.children,r=e.onSubmit,n=e.isOptionalFields,o=e.error,i=e.cleanAnimationMessages,c=e.intl;return a.a.createElement("div",{className:"miv-tabs-content"},a.a.createElement("form",{onSubmit:r},a.a.createElement(f.a,{error:o}),i&&i.length>=1&&a.a.createElement(h.a,{animationMessages:i}),a.a.createElement("div",{className:"fieldset"},n?null:[a.a.createElement(s.FormattedMessage,{id:"iv.search_timetables_title",key:"search_title"},(function(e){return a.a.createElement("h3",{className:"miv-tabs-content-title"},e)})),a.a.createElement("p",{className:"required-fields",key:"search_required"},a.a.createElement("sup",{className:"asterisk-required"},"* "),a.a.createElement(s.FormattedMessage,{id:"iv.required_fields"}))],a.a.createElement("div",{className:"clearfix"}),a.a.createElement(d,{labelId:"iv.station_label",isOptionalFields:n}),t)),Object(b.c)("iv.disclaimer_content",c)&&a.a.createElement(m.a,null))};y.propTypes={children:i.a.element.isRequired,onSubmit:i.a.func.isRequired,isOptionalFields:i.a.bool,error:f.a.propTypes.error,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired,intl:s.intlShape.isRequired},y.defaultProps={isOptionalFields:!1,error:null};var v=y,g=r(1683);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var S=function(e){var t=e.errorHandling,r=E(e,["errorHandling"]);return a.a.createElement(v,O({},r,{error:t.error}))};S.propTypes={errorHandling:i.a.shape({error:g.a.propTypes.error})},S.defaultProps={errorHandling:{error:null}};var C=S,w=r(1722),k=r(1684),j=r(1723),_=r(1);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=P(this,R(t).call(this,e))).onChange=function(e,t){r.props.setValue(e),r.setState({inputValue:e,selectedElement:t}),r.props.onInputChange(t)},r.resetStationInput=function(){r.setState({inputValue:""})},r.cancelPreviousPromiseCallBack=function(){r.cancelablePromises.forEach((function(e){return e.cancel()}))},r.mapDataCallBack=function(e){var t=r.props.nbPlaces;return e.filter((function(e){return e.type===_.Md})).slice(0,t).map(j.a)},r.getDataCallBack=function(e,t,n){r.cancelPreviousPromiseCallBack();var a=Object(w.a)(Object(k.a)(r.props.endpoint,r.props.timeout).rechercherListeEmplacementsCommencantPar(_.Md,e).then((function(e){return t(e)})).catch((function(e){return n(e)})));a.promise.catch((function(){})),r.cancelablePromises.push(a)},r.state={inputValue:e.initialValue},r.cancelablePromises=[],r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){this.state.inputValue!==e.initialValue&&this.setState({inputValue:e.initialValue})}},{key:"componentWillUnmount",value:function(){this.cancelPreviousPromiseCallBack()}},{key:"render",value:function(){return this.props.render({inputValue:this.state.inputValue,getDataCallBack:this.getDataCallBack,mapDataCallBack:this.mapDataCallBack,onChange:this.onChange,resetStationInput:this.resetStationInput})}}])&&N(r.prototype,n),a&&N(r,a),t}(n.Component);x.propTypes={render:i.a.func.isRequired,onInputChange:i.a.func.isRequired,initialValue:i.a.string.isRequired,nbPlaces:i.a.number,endpoint:i.a.string,timeout:i.a.number,setValue:i.a.func.isRequired},x.defaultProps={nbPlaces:"",endpoint:"",timeout:""};var M=x,T=r(1725),q=r(1714),F=r(1708),A=r(1682),V=function(e){var t=e.onInputChange,r=e.onSubmit,n=e.errorHandling,o=e.intl,i=e.isOptionalFields,s=e.getValue,c=e.setValue,l=e.nbPreviousSearch,p=e.typePreviousSearches,d=e.genericValues,f=e.cleanAnimationMessages,m=e.resetStationInput;return a.a.createElement(C,{onSubmit:r,errorHandling:n,isOptionalFields:i,cleanAnimationMessages:f,intl:o},a.a.createElement(u,{intl:o},a.a.createElement(q.a,{idAutoComplete:"station-name",render:function(e){var r=e.callBackOnFocus;return a.a.createElement(M,{initialValue:s(),setValue:c,onInputChange:t,nbPlaces:d.nbPlaces,endpoint:d.endpoint,timeout:d.timeout,render:function(e){var t=e.inputValue,i=e.getDataCallBack,s=e.mapDataCallBack,c=e.onChange;return a.a.createElement(T.a,{fieldName:"station-name",callBackOnFocus:r,error:n.error,minCharForAutocomplete:2,showCategory:!0,inputValue:t,getDataCallBack:i,mapDataCallBack:s,onChange:c,placeholder:o.formatMessage({id:"iv.ph_station_name"}),title:o.formatMessage({id:"iv.ph_station_name"}),nbPreviousSearch:l,typePreviousSearches:p,typesToExcludeFromResultsCount:_.db,resetStationInput:m})}})}})))};V.propTypes={onInputChange:i.a.func.isRequired,resetStationInput:i.a.func.isRequired,onSubmit:i.a.func.isRequired,errorHandling:i.a.shape({serverError:i.a.func.isRequired,invalidInput:i.a.func.isRequired,emptyInput:i.a.func.isRequired,clearError:i.a.func.isRequired,error:g.a.propTypes.error}).isRequired,isOptionalFields:i.a.bool,intl:s.intlShape.isRequired,getValue:i.a.func.isRequired,setValue:i.a.func.isRequired,nbPreviousSearch:i.a.number.isRequired,typePreviousSearches:i.a.arrayOf(i.a.string).isRequired,genericValues:A.b,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired},V.defaultProps={isOptionalFields:!1,genericValues:A.a};t.a=Object(F.a)(V)},1827:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),i=r.n(o),s=r(31),c=r(6),l=r(1682),u=function(e){var t,r,n=e.intl,o=e.genericValues;switch(o.lang){case"fr":t=o.vscBookTicketFR,r=o.vscCardsAndPassesFR;break;case"en":t=o.vscBookTicketEN,r=o.vscCardsAndPassesEN;break;case"de":t=o.vscBookTicketDE,r=o.vscCardsAndPassesDE}return t=o.addGAClientIdToUrl(t),r=o.addGAClientIdToUrl(r),a.a.createElement("p",{className:"miv-tabs-content-booking-btn-container"},a.a.createElement(c.b,{href:t,className:"btn btn-default miv-tabs-content-booking-btn",target:"_blank",rel:"noopener noreferrer",id:"button-tickets",title:n.formatMessage({id:"iv.booking_button_tickets"}).concat(n.formatMessage({id:"iv.new_window"}))},a.a.createElement(s.FormattedMessage,{id:"iv.booking_button_tickets"})),a.a.createElement(c.b,{href:r,className:"btn btn-default-dark miv-tabs-content-booking-btn",target:"_blank",rel:"noopener noreferrer",id:"button-cards",title:n.formatMessage({id:"iv.booking_button_cards"}).concat(n.formatMessage({id:"iv.new_window"}))},a.a.createElement(s.FormattedMessage,{id:"iv.booking_button_cards"})))};u.propTypes={intl:s.intlShape.isRequired,genericValues:l.b},u.defaultProps={genericValues:l.a};var p=u,d=r(1720),f=function(e){var t=e.children,r=e.cleanAnimationMessages;return a.a.createElement("div",{className:"miv-tabs-content clearfix"},r&&a.a.createElement(d.a,{animationMessages:r}),a.a.createElement("p",{className:"miv-tabs-content-small-desc"},a.a.createElement(s.FormattedMessage,{id:"iv.booking_title"})),t)};f.propTypes={children:i.a.element.isRequired,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired};var m=f,h=r(1708),b=function(e){var t=e.intl,r=e.cleanAnimationMessages,n=e.genericValues;return a.a.createElement(m,{cleanAnimationMessages:r},a.a.createElement(p,{intl:t,genericValues:n}))};b.propTypes={intl:s.intlShape.isRequired,cleanAnimationMessages:i.a.arrayOf(i.a.shape({expanded:i.a.bool,message:i.a.node,titre:i.a.string.isRequired})).isRequired,genericValues:l.b},b.defaultProps={isOptionalFields:!1,genericValues:l.a};t.a=Object(h.a)(b)},2071:function(e,t,r){"use strict";r.r(t);var n=r(31),a=r(58),o=r(0),i=r.n(o),s=r(1824),c=r(1818),l=r(2),u=r(1740);var p=Object(a.connect)((function(e){return{error:Object(l.a)((function(){return e.errors.search.error}),null),searchSubmit:e.info.searchSubmit}}),(function(e){return{serverError:Object(u.e)(e),invalidInput:Object(u.c)(e),emptyInput:Object(u.b)(e),submitSearch:Object(u.f)(e),clearError:Object(u.a)(e),onTabClick:Object(u.d)(e)}}))(Object(n.injectIntl)(Object(c.a)(s.a))),d=r(1825),f=r(1819),m=r(1);var h=Object(a.connect)((function(e){return{error:Object(l.a)((function(){return e.errors.search.error}),null),searchSubmit:e.info.searchSubmit,typePreviousSearches:[m.Md],nbPreviousSearch:e.genericValues.nbPreviousSearch,genericValues:e.genericValues}}),(function(e){return{serverError:Object(u.e)(e),invalidInput:Object(u.c)(e),emptyInput:Object(u.b)(e),submitSearch:Object(u.f)(e),clearError:Object(u.a)(e),onTabClick:Object(u.d)(e)}}))(Object(n.injectIntl)(Object(f.a)(d.a))),b=r(4),y=r.n(b),v=r(1780),g=r(1781),O=r(1753),E=r(1782),S=r(1725),C=r(1698),w=r(1682),k=r(1685),j=r(1714),_=function(e){var t=e.onSubmitHomepage,r=e.intl,n=e.inputsReverse,a=e.resetDepartureInput,o=e.resetArrivalInput,s=e.getDepartureValue,c=e.getArrivalValue,l=e.onInputChangeDep,u=e.onInputChangeArr,p=e.nbPreviousSearch,d=e.typePreviousSearches,f=e.genericValues;return i.a.createElement("div",{className:"miv-tabs-content"},i.a.createElement("form",{onSubmit:t},i.a.createElement("div",{className:"fieldset"},i.a.createElement("div",{className:"itinerary-input-block itinerary-input-block-departure-arrival clearfix"},i.a.createElement("div",{className:"itinerary-input-departure-block"},i.a.createElement(v.a,{isOptional:!0}),i.a.createElement("div",{className:"clearfix"},i.a.createElement(j.a,{idAutoComplete:"departure-place",render:function(e){var t=e.callBackOnFocus;return i.a.createElement(O.a,{initialValue:s(),onInputChange:l,nbPlaces:f.nbPlaces,endpoint:f.endpoint,timeout:f.timeout,intl:r,render:function(e){var n=e.inputValue,o=e.getDataCallBack,s=e.mapDataCallBack,c=e.onChange;return i.a.createElement(S.a,{fieldName:"departure-place",minCharForAutocomplete:2,callBackOnFocus:t,showCategory:!0,inputValue:n,getDataCallBack:o,mapDataCallBack:s,onChange:c,placeholder:r.formatMessage({id:"iv.ph_departure"}),title:r.formatMessage({id:"iv.ph_departure"}),nbPreviousSearch:p,typePreviousSearches:d,geolocation:!0,typesToExcludeFromResultsCount:[],resetDepartureInput:a})}})}}))),i.a.createElement("div",{className:"itinerary-toggle-button-block"},i.a.createElement(E.a,{inputsReverse:n})),i.a.createElement("div",{className:"itinerary-input-arrival-block"},i.a.createElement(g.a,{isOptional:!0}),i.a.createElement("div",{className:"clearfix"},i.a.createElement(j.a,{idAutoComplete:"arrival-place",render:function(e){var t=e.callBackOnFocus;return i.a.createElement(O.a,{initialValue:c(),onInputChange:u,nbPlaces:f.nbPlaces,endpoint:f.endpoint,timeout:f.timeout,intl:r,render:function(e){var n=e.inputValue,a=e.getDataCallBack,s=e.mapDataCallBack,c=e.onChange;return i.a.createElement(S.a,{fieldName:"arrival-place",minCharForAutocomplete:2,callBackOnFocus:t,showCategory:!0,inputValue:n,getDataCallBack:a,mapDataCallBack:s,onChange:c,placeholder:r.formatMessage({id:"iv.ph_arrival"}),title:r.formatMessage({id:"iv.ph_arrival"}),nbPreviousSearch:p,typePreviousSearches:d,geolocation:!0,typesToExcludeFromResultsCount:[],resetArrivalInput:o})}})}}))),i.a.createElement("div",{className:"block-search-home-itinerary-submit"},i.a.createElement("button",{type:"submit",className:"btn btn-default miv-tab-btn-search btn-block",title:r.formatMessage({id:"iv.itinerary_search_legend_button"})},r.formatMessage({id:"iv.search_button"})))),Object(k.c)("iv.disclaimer_content",r)&&i.a.createElement(C.a,null))))};_.propTypes={onSubmitHomepage:y.a.func.isRequired,onInputChangeDep:y.a.func.isRequired,getDepartureValue:y.a.func.isRequired,inputsReverse:y.a.func.isRequired,onInputChangeArr:y.a.func.isRequired,getArrivalValue:y.a.func.isRequired,intl:n.intlShape.isRequired,genericValues:w.b,nbPreviousSearch:y.a.number.isRequired,typePreviousSearches:y.a.arrayOf(y.a.string).isRequired,resetDepartureInput:y.a.func.isRequired,resetArrivalInput:y.a.func.isRequired},_.defaultProps={genericValues:w.a};var D=_,N=r(1820),P=r(1784);var R=Object(a.connect)((function(e){return{error:Object(l.a)((function(){return e.errors.search.error}),null),errorWS:Object(l.a)((function(){return e.pap.error}),null),modes:Object(l.a)((function(){return e.invertPap.modes}),null),when:Object(l.a)((function(){return e.pap.when}),"now"),searchSubmit:e.info.searchSubmit,departure:e.invertPap.departure,arrival:e.invertPap.arrival,nbPreviousSearch:e.genericValues.nbPreviousSearch,typePreviousSearches:[m.Md,m.S,m.T]}}),(function(e){return{serverError:Object(P.j)(e),emptyInput:Object(P.c)(e),invalidCoord:Object(P.e)(e),clearError:Object(P.a)(e),invertPap:Object(P.f)(e),setDeparture:Object(P.m)(e),setArrival:Object(P.k)(e),setModes:Object(P.n)(e),resetDepartureInput:Object(P.i)(e),resetArrivalInput:Object(P.h)(e),handleError:Object(P.d)(e),submitSearch:Object(P.p)(e),coordPap:Object(P.b)(e)}}))(Object(n.injectIntl)(Object(N.a)(D))),I=r(1827),x=r(2062),M=r(196);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=F(this,A(t).call(this,e))).componentDidMount=function(){Object(M.a)((function(e){return e(".js-nav-tabs").header_tabs_swipe()}))},r.render=function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{id:"miv-tabs-homepage",className:"miv-tabs-anchor-homepage","aria-hidden":"true"}),i.a.createElement("section",{className:"miv-tabs miv-tabs-homepage"},i.a.createElement(x.d,{selectedIndex:r.state.tabIndex,onSelect:function(e){return r.setState({tabIndex:e})}},i.a.createElement("header",{className:"miv-tabs-header clearfix"},i.a.createElement("h2",{className:"visually-hidden"},i.a.createElement(n.FormattedMessage,{id:"iv.search_block_title"})),i.a.createElement("div",{className:"miv-tabs-nav js-nav-tabs"},i.a.createElement("div",{className:"miv-tabs-halo miv-tabs-halo-left js-nav-tabs-halo-left js-hidden"}),i.a.createElement(x.b,{className:"miv-tabs-list js-nav-tabs-list"},i.a.createElement(x.a,{className:"miv-tabs-list-item js-nav-tabs-item",selectedClassName:"miv-tabs-list-item-active js-nav-tabs-item-active"},i.a.createElement("span",{className:"miv-tabs-label"},i.a.createElement("span",{className:"icon snc-icon-localisation-pin","aria-hidden":"true"}),i.a.createElement(n.FormattedMessage,{id:"iv.itinerary"}))),i.a.createElement(x.a,{className:"miv-tabs-list-item js-nav-tabs-item",selectedClassName:"miv-tabs-list-item-active js-nav-tabs-item-active"},i.a.createElement("span",{className:"miv-tabs-label"},i.a.createElement("span",{className:"icon snc-icon-booking","aria-hidden":"true"}),i.a.createElement(n.FormattedMessage,{id:"iv.book"}))),i.a.createElement(x.a,{className:"miv-tabs-list-item js-nav-tabs-item",selectedClassName:"miv-tabs-list-item-active js-nav-tabs-item-active"},i.a.createElement("span",{className:"miv-tabs-label"},i.a.createElement("span",{className:"icon snc-icon-clock","aria-hidden":"true"}),i.a.createElement(n.FormattedMessage,{id:"iv.timetables"}))),i.a.createElement(x.a,{className:"miv-tabs-list-item js-nav-tabs-item",selectedClassName:"miv-tabs-list-item-active js-nav-tabs-item-active"},i.a.createElement("span",{className:"miv-tabs-label"},i.a.createElement("span",{className:"icon snc-icon-itinerary-train","aria-hidden":"true"}),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.props.intl.formatMessage({id:"iv.trainnumber"})}})))),i.a.createElement("div",{className:"miv-tabs-halo miv-tabs-halo-right js-nav-tabs-halo-right"}))),i.a.createElement(x.c,{className:"miv-tabs-panel",selectedClassName:"miv-tabs-panel-active"},i.a.createElement(R,q({genericValues:r.props.genericValues},r.props))),i.a.createElement(x.c,{className:"miv-tabs-panel",selectedClassName:"miv-tabs-panel-active"},i.a.createElement(I.a,q({genericValues:r.props.genericValues},r.props))),i.a.createElement(x.c,{className:"miv-tabs-panel",selectedClassName:"miv-tabs-panel-active"},i.a.createElement(h,q({genericValues:r.props.genericValues,isOptionalFields:!0},r.props))),i.a.createElement(x.c,{className:"miv-tabs-panel",selectedClassName:"miv-tabs-panel-active"},i.a.createElement(p,q({genericValues:r.props.genericValues,isOptionalFields:!0},r.props))))))},r.state={tabIndex:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),t}(o.Component);B.propTypes={intl:n.intlShape.isRequired,genericValues:w.b},B.defaultProps={genericValues:w.a};t.default=Object(a.connect)((function(e){return{genericValues:e.genericValues}}))(Object(n.injectIntl)(B))}}]);